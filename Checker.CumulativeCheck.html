<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="./coqdocjs/resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="./coqdocjs/resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="./coqdocjs/resources/config.js"></script>
<script type="text/javascript" src="./coqdocjs/resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://redirect.tipten.nl/checker-project/">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Checker.CumulativeCheck</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">Coq.ZArith.ZArith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.NArith.html#"><span class="id" title="library">Coq.NArith.NArith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">Coq.Lists.List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Sorting.Sorted.html#"><span class="id" title="library">Coq.Sorting.Sorted</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Arith.PeanoNat.html#"><span class="id" title="library">Arith.PeanoNat</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Checker.CumulativeUtil.html#"><span class="id" title="library">Checker.CumulativeUtil</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Checker.Spec.html#"><span class="id" title="library">Checker.Spec</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions"><span class="id" title="module">Spec.ConstraintDefinitions</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Spec.html#ProofFacts"><span class="id" title="module">Spec.ProofFacts</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.CumulativeUtil.html#RunOfN"><span class="id" title="module">CumulativeUtil.RunOfN</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum"><span class="id" title="module">CumulativeUtil.NSum</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.CumulativeUtil.html#BuildCumul"><span class="id" title="module">CumulativeUtil.BuildCumul</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Checker.Utility.html#"><span class="id" title="library">Checker.Utility</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Utility.html#Maps"><span class="id" title="module">Utility.Maps</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Utility.html#ListEx"><span class="id" title="module">Utility.ListEx</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Utility.html#Sets"><span class="id" title="module">Utility.Sets</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Utility.html#ZRange"><span class="id" title="module">Utility.ZRange</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Utility.html#SubList"><span class="id" title="module">Utility.SubList</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Utility.html#"><span class="id" title="module">Utility</span></a> <a class="idref" href="Checker.Utility.html#ZMaxMinList"><span class="id" title="module">ZMaxMinList</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Domain.html#"><span class="id" title="library">Checker.Domain</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Checker.DomainVar.html#"><span class="id" title="library">Checker.DomainVar</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Zext.html#"><span class="id" title="library">Checker.Zext</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Deduction.html#"><span class="id" title="library">Checker.Deduction</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#"><span class="id" title="module">Datatypes</span></a>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>

<br/>
</div>

<div class="doc">
The main object of interest: represents an activity with (inclusive) lower and upper bounds for its starting time, as well as its other parameters, processing time and resource usage. Note that it includes no mention of a name, because Var can be a constant without a name. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="BoundedActivity" class="idref" href="#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a> := <span class="id" title="var">mkBoundAct</span> {<br/>
&nbsp;&nbsp;<a id="b_lb" class="idref" href="#b_lb"><span class="id" title="projection">b_lb</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;<a id="b_ub" class="idref" href="#b_ub"><span class="id" title="projection">b_ub</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;<a id="b_p_time" class="idref" href="#b_p_time"><span class="id" title="projection">b_p_time</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>;<br/>
&nbsp;&nbsp;<a id="b_usage" class="idref" href="#b_usage"><span class="id" title="projection">b_usage</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
The below functions allow constructing a list of BoundedActivity's from a fact and a constraint. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="lb_ub_from_act_dom" class="idref" href="#lb_ub_from_act_dom"><span class="id" title="definition">lb_ub_from_act_dom</span></a> (<a id="activity:6" class="idref" href="#activity:6"><span class="id" title="binder">activity</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Activity"><span class="id" title="record">Activity</span></a>) (<a id="domains:7" class="idref" href="#domains:7"><span class="id" title="binder">domains</span></a> : <a class="idref" href="Checker.Utility.html#Maps.smap.t"><span class="id" title="definition">smap.t</span></a> <a class="idref" href="Checker.Domain.html#Domain"><span class="id" title="record">Domain</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_start"><span class="id" title="projection">activity_start</span></a> <a class="idref" href="Checker.CumulativeCheck.html#activity:6"><span class="id" title="variable">activity</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.const"><span class="id" title="constructor">const</span></a> <span class="id" title="var">value</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">value</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">value</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>    <br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.var_name"><span class="id" title="constructor">var_name</span></a> <span class="id" title="var">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Utility.html#Maps.smap.find"><span class="id" title="definition">smap.find</span></a> <span class="id" title="var">x</span> <a class="idref" href="Checker.CumulativeCheck.html#domains:7"><span class="id" title="variable">domains</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">dom</span> =&gt; <a class="idref" href="Checker.Domain.html#lb_ub_from_dom"><span class="id" title="definition">lb_ub_from_dom</span></a> <span class="id" title="var">dom</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="act_dom_to_bounded_act" class="idref" href="#act_dom_to_bounded_act"><span class="id" title="definition">act_dom_to_bounded_act</span></a> (<a id="dom:8" class="idref" href="#dom:8"><span class="id" title="binder">dom</span></a> : <a class="idref" href="Checker.Domain.html#Domain"><span class="id" title="record">Domain</span></a>) (<a id="activity:9" class="idref" href="#activity:9"><span class="id" title="binder">activity</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Activity"><span class="id" title="record">Activity</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Domain.html#lb_ub_from_dom"><span class="id" title="definition">lb_ub_from_dom</span></a> <a class="idref" href="Checker.CumulativeCheck.html#dom:8"><span class="id" title="variable">dom</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">lb</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ub</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#mkBoundAct"><span class="id" title="constructor">mkBoundAct</span></a> <span class="id" title="var">lb</span> <span class="id" title="var">ub</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_duration"><span class="id" title="projection">activity_duration</span></a> <a class="idref" href="Checker.CumulativeCheck.html#activity:9"><span class="id" title="variable">activity</span></a>) (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_usage"><span class="id" title="projection">activity_usage</span></a> <a class="idref" href="Checker.CumulativeCheck.html#activity:9"><span class="id" title="variable">activity</span></a>))<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="act_doms_to_bounded_acts" class="idref" href="#act_doms_to_bounded_acts"><span class="id" title="definition">act_doms_to_bounded_acts</span></a> (<a id="domains:10" class="idref" href="#domains:10"><span class="id" title="binder">domains</span></a> : <a class="idref" href="Checker.Utility.html#Maps.smap.t"><span class="id" title="definition">smap.t</span></a> <a class="idref" href="Checker.Domain.html#Domain"><span class="id" title="record">Domain</span></a>) (<a id="activity:11" class="idref" href="#activity:11"><span class="id" title="binder">activity</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Activity"><span class="id" title="record">Activity</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.CumulativeCheck.html#lb_ub_from_act_dom"><span class="id" title="definition">lb_ub_from_act_dom</span></a> <a class="idref" href="Checker.CumulativeCheck.html#activity:11"><span class="id" title="variable">activity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#domains:10"><span class="id" title="variable">domains</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">lb</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ub</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#mkBoundAct"><span class="id" title="constructor">mkBoundAct</span></a> <span class="id" title="var">lb</span> <span class="id" title="var">ub</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_duration"><span class="id" title="projection">activity_duration</span></a> <a class="idref" href="Checker.CumulativeCheck.html#activity:11"><span class="id" title="variable">activity</span></a>) (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_usage"><span class="id" title="projection">activity_usage</span></a> <a class="idref" href="Checker.CumulativeCheck.html#activity:11"><span class="id" title="variable">activity</span></a>))<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="activity_match" class="idref" href="#activity_match"><span class="id" title="definition">activity_match</span></a> (<a id="x:12" class="idref" href="#x:12"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="activity:13" class="idref" href="#activity:13"><span class="id" title="binder">activity</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Activity"><span class="id" title="record">Activity</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_start"><span class="id" title="projection">activity_start</span></a> <a class="idref" href="Checker.CumulativeCheck.html#activity:13"><span class="id" title="variable">activity</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.const"><span class="id" title="constructor">const</span></a> <span class="id" title="var">value</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.var_name"><span class="id" title="constructor">var_name</span></a> <span class="id" title="var">x'</span> =&gt; (<a class="idref" href="Checker.CumulativeCheck.html#x:12"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Strings.String.html#5886275aa8d678ebe8bc38ad41c652c0"><span class="id" title="notation">=?</span></a> <span class="id" title="var">x'</span>)%<span class="id" title="var">string</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="inferred_cumulative_activity_bounds" class="idref" href="#inferred_cumulative_activity_bounds"><span class="id" title="definition">inferred_cumulative_activity_bounds</span></a> (<a id="constr:14" class="idref" href="#constr:14"><span class="id" title="binder">constr</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.CumulativeConstraint"><span class="id" title="record">CumulativeConstraint</span></a>) (<a id="fact:15" class="idref" href="#fact:15"><span class="id" title="binder">fact</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a>) : (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Deduction.html#infer_domains"><span class="id" title="definition">infer_domains</span></a> <a class="idref" href="Checker.CumulativeCheck.html#fact:15"><span class="id" title="variable">fact</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">domains</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">prop_var</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bounded_activities:16" class="idref" href="#bounded_activities:16"><span class="id" title="binder">bounded_activities</span></a> := <a class="idref" href="Checker.Utility.html#ListEx.flat_map_option"><span class="id" title="definition">flat_map_option</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#act_doms_to_bounded_acts"><span class="id" title="definition">act_doms_to_bounded_acts</span></a> <span class="id" title="var">domains</span>) <a class="idref" href="Checker.CumulativeCheck.html#constr:14"><span class="id" title="variable">constr</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">prop_var</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#bounded_activities:16"><span class="id" title="variable">bounded_activities</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">prop_var</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#activity_match"><span class="id" title="definition">activity_match</span></a> <span class="id" title="var">prop_var</span>) <a class="idref" href="Checker.CumulativeCheck.html#constr:14"><span class="id" title="variable">constr</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#bounded_activities:16"><span class="id" title="variable">bounded_activities</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">prop_act</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Utility.html#Maps.smap.find"><span class="id" title="definition">smap.find</span></a> <span class="id" title="var">prop_var</span> <span class="id" title="var">domains</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#bounded_activities:16"><span class="id" title="variable">bounded_activities</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">prop_dom</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#bounded_activities:16"><span class="id" title="variable">bounded_activities</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act_dom_to_bounded_act"><span class="id" title="definition">act_dom_to_bounded_act</span></a> <span class="id" title="var">prop_dom</span> <span class="id" title="var">prop_act</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Because we do not have a name in a bounded activity because activities can also have a constant value for their starting time instead of a variable, we define bounds to be valid by requiring any addition of a bound to be accompanied by a matching activity. We also allow adding activities without bounds, because maybe an activity is not mentioned in the fact but we still want to work with the full list of activities (as that makes proving things easier). 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="valid_bounds" class="idref" href="#valid_bounds"><span class="id" title="definition, inductive"><span id="valid_bounds_ind" class="id"><span id="valid_bounds_sind" class="id">valid_bounds</span></span></span></a> (<a id="sol:18" class="idref" href="#sol:18"><span class="id" title="binder">sol</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Activity"><span class="id" title="record">Activity</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="valid_bounds_nil" class="idref" href="#valid_bounds_nil"><span class="id" title="constructor">valid_bounds_nil</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds:19"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:18"><span class="id" title="variable">sol</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a id="valid_bounds_bound" class="idref" href="#valid_bounds_bound"><span class="id" title="constructor">valid_bounds_bound</span></a> (<a id="act:21" class="idref" href="#act:21"><span class="id" title="binder">act</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Activity"><span class="id" title="record">Activity</span></a>) (<a id="acts:22" class="idref" href="#acts:22"><span class="id" title="binder">acts</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Activity"><span class="id" title="record">Activity</span></a>) (<a id="bound:23" class="idref" href="#bound:23"><span class="id" title="binder">bound</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) (<a id="bounds:24" class="idref" href="#bounds:24"><span class="id" title="binder">bounds</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hstart:25" class="idref" href="#Hstart:25"><span class="id" title="binder">Hstart</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#bound:23"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.evaluate"><span class="id" title="definition">evaluate</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:21"><span class="id" title="variable">act</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_start"><span class="id" title="projection">activity_start</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#sol:18"><span class="id" title="variable">sol</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:23"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Husage:26" class="idref" href="#Husage:26"><span class="id" title="binder">Husage</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#bound:23"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_usage"><span class="id" title="projection">b_usage</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:21"><span class="id" title="variable">act</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_usage"><span class="id" title="projection">activity_usage</span></a>)) (<a id="Hduration:27" class="idref" href="#Hduration:27"><span class="id" title="binder">Hduration</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#bound:23"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:21"><span class="id" title="variable">act</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_duration"><span class="id" title="projection">activity_duration</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H:28" class="idref" href="#H:28"><span class="id" title="binder">H</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds:19"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:18"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts:22"><span class="id" title="variable">acts</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:24"><span class="id" title="variable">bounds</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds:19"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:18"><span class="id" title="variable">sol</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#act:21"><span class="id" title="variable">act</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts:22"><span class="id" title="variable">acts</span></a>) (<a class="idref" href="Checker.CumulativeCheck.html#bound:23"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:24"><span class="id" title="variable">bounds</span></a>)<br/>
&nbsp;&nbsp;| <a id="valid_bounds_nobound" class="idref" href="#valid_bounds_nobound"><span class="id" title="constructor">valid_bounds_nobound</span></a> (<a id="act:29" class="idref" href="#act:29"><span class="id" title="binder">act</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Activity"><span class="id" title="record">Activity</span></a>) (<a id="acts:30" class="idref" href="#acts:30"><span class="id" title="binder">acts</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Activity"><span class="id" title="record">Activity</span></a>) (<a id="bounds:31" class="idref" href="#bounds:31"><span class="id" title="binder">bounds</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) (<a id="H:32" class="idref" href="#H:32"><span class="id" title="binder">H</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds:19"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:18"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts:30"><span class="id" title="variable">acts</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:31"><span class="id" title="variable">bounds</span></a>) : <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds:19"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:18"><span class="id" title="variable">sol</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#act:29"><span class="id" title="variable">act</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts:30"><span class="id" title="variable">acts</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:31"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_bounds_act_left" class="idref" href="#valid_bounds_act_left"><span class="id" title="lemma">valid_bounds_act_left</span></a> <a id="sol:33" class="idref" href="#sol:33"><span class="id" title="binder">sol</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="acts:34" class="idref" href="#acts:34"><span class="id" title="binder">acts</span></a> <a id="bound:35" class="idref" href="#bound:35"><span class="id" title="binder">bound</span></a> <a id="bounds:36" class="idref" href="#bounds:36"><span class="id" title="binder">bounds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:33"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts:34"><span class="id" title="variable">acts</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#bound:35"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:36"><span class="id" title="variable">bounds</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="acts_l:37" class="idref" href="#acts_l:37"><span class="id" title="binder">acts_l</span></a> <a id="acts_r:38" class="idref" href="#acts_r:38"><span class="id" title="binder">acts_r</span></a> <a id="act:39" class="idref" href="#act:39"><span class="id" title="binder">act</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#acts:34"><span class="id" title="variable">acts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts_l:37"><span class="id" title="variable">acts_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:39"><span class="id" title="variable">act</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts_r:38"><span class="id" title="variable">acts_r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:33"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts_r:38"><span class="id" title="variable">acts_r</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:36"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#bound:35"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.evaluate"><span class="id" title="definition">evaluate</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:39"><span class="id" title="variable">act</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_start"><span class="id" title="projection">activity_start</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#sol:33"><span class="id" title="variable">sol</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:35"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#bound:35"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_usage"><span class="id" title="projection">b_usage</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:39"><span class="id" title="variable">act</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_usage"><span class="id" title="projection">activity_usage</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#bound:35"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:39"><span class="id" title="variable">act</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_duration"><span class="id" title="projection">activity_duration</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">acts</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">act</span> <span class="id" title="var">acts</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">bound</span> <span class="id" title="var">bounds</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">bound</span> <span class="id" title="var">bounds</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">act0</span> <span class="id" title="var">acts0</span> <span class="id" title="var">bound0</span> <span class="id" title="var">bounds0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">Hvalid_base</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">acts</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">act</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">act0</span> <span class="id" title="var">acts0</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">bounds0</span> <span class="id" title="var">into</span> <span class="id" title="var">bounds'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">Hbounds'</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">H2</span> <span class="id" title="var">into</span> <span class="id" title="var">Hvalid'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">bound</span> <span class="id" title="var">bounds</span> <span class="id" title="var">Hvalid'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">acts_l</span> &amp; <span class="id" title="var">acts_r</span> &amp; <span class="id" title="var">act'</span> &amp; <span class="id" title="var">IHacts</span> &amp; <span class="id" title="var">IHvalid</span> &amp; <span class="id" title="var">IH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">act</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">acts_l</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">acts_r</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">act'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHacts</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_bounds_app_acts" class="idref" href="#valid_bounds_app_acts"><span class="id" title="lemma">valid_bounds_app_acts</span></a> <a id="sol:40" class="idref" href="#sol:40"><span class="id" title="binder">sol</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="acts':41" class="idref" href="#acts':41"><span class="id" title="binder">acts'</span></a> <a id="acts:42" class="idref" href="#acts:42"><span class="id" title="binder">acts</span></a> <a id="bounds:43" class="idref" href="#bounds:43"><span class="id" title="binder">bounds</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:40"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts:42"><span class="id" title="variable">acts</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:43"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:40"><span class="id" title="variable">sol</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#acts':41"><span class="id" title="variable">acts'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts:42"><span class="id" title="variable">acts</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:43"><span class="id" title="variable">bounds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">acts'</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">act</span> <span class="id" title="var">acts'</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">acts</span> <span class="id" title="var">bounds</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds_nobound"><span class="id" title="constructor">valid_bounds_nobound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hvalid</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This is the important lemma that allows us to extract a matching activity for a bound and isolate the remaining bounds and activities, which are then still valid.  
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="valid_bound_matching_activity" class="idref" href="#valid_bound_matching_activity"><span class="id" title="lemma">valid_bound_matching_activity</span></a> : <br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="sol:44" class="idref" href="#sol:44"><span class="id" title="binder">sol</span></a> <a id="acts:45" class="idref" href="#acts:45"><span class="id" title="binder">acts</span></a> <a id="bounds:46" class="idref" href="#bounds:46"><span class="id" title="binder">bounds</span></a> <a id="bounds_l:47" class="idref" href="#bounds_l:47"><span class="id" title="binder">bounds_l</span></a> <a id="bounds_r:48" class="idref" href="#bounds_r:48"><span class="id" title="binder">bounds_r</span></a> <a id="bound:49" class="idref" href="#bound:49"><span class="id" title="binder">bound</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:44"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts:45"><span class="id" title="variable">acts</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:46"><span class="id" title="variable">bounds</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#bounds:46"><span class="id" title="variable">bounds</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds_l:47"><span class="id" title="variable">bounds_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:49"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds_r:48"><span class="id" title="variable">bounds_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="acts_l:50" class="idref" href="#acts_l:50"><span class="id" title="binder">acts_l</span></a> <a id="act:51" class="idref" href="#act:51"><span class="id" title="binder">act</span></a> <a id="acts_r:52" class="idref" href="#acts_r:52"><span class="id" title="binder">acts_r</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#acts:45"><span class="id" title="variable">acts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts_l:50"><span class="id" title="variable">acts_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:51"><span class="id" title="variable">act</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts_r:52"><span class="id" title="variable">acts_r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:44"><span class="id" title="variable">sol</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#acts_l:50"><span class="id" title="variable">acts_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts_r:52"><span class="id" title="variable">acts_r</span></a>) (<a class="idref" href="Checker.CumulativeCheck.html#bounds_l:47"><span class="id" title="variable">bounds_l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds_r:48"><span class="id" title="variable">bounds_r</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#bound:49"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.evaluate"><span class="id" title="definition">evaluate</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:51"><span class="id" title="variable">act</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_start"><span class="id" title="projection">activity_start</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#sol:44"><span class="id" title="variable">sol</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:49"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#bound:49"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_usage"><span class="id" title="projection">b_usage</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:51"><span class="id" title="variable">act</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_usage"><span class="id" title="projection">activity_usage</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#bound:49"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:51"><span class="id" title="variable">act</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_duration"><span class="id" title="projection">activity_duration</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sol</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">acts</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">act</span> <span class="id" title="var">acts</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">bounds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_eq_nil"><span class="id" title="lemma">app_eq_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">bounds</span> <span class="id" title="var">bounds_l</span> <span class="id" title="var">bounds_r</span> <span class="id" title="var">bound</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">bounds_l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">bound_l</span> <span class="id" title="var">bounds_l</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbounds</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds_act_left"><span class="id" title="lemma">valid_bounds_act_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">acts_l</span> &amp; <span class="id" title="var">acts_r</span> &amp; <span class="id" title="var">act'</span> &amp; <span class="id" title="var">Hacts</span> &amp; <span class="id" title="var">Hvalid</span> &amp; <span class="id" title="var">Hact'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">acts_l</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">act'</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">acts_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds_app_acts"><span class="id" title="lemma">valid_bounds_app_acts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Hvalid</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">act0</span> <span class="id" title="var">acts0</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">bound0</span> <span class="id" title="var">into</span> <span class="id" title="var">bound'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">bounds0</span> <span class="id" title="var">into</span> <span class="id" title="var">bounds'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H2</span> <span class="id" title="var">into</span> <span class="id" title="var">Hvalid'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">Hbounds'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbounds</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbounds'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbounds'</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbounds'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">bound'</span> <span class="id" title="var">bounds'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hbounds'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Hvalid'</span> <span class="id" title="var">into</span> <span class="id" title="var">Hvalid_split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">bounds_l</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">bound</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">bounds_r</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">bounds_l</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">bound</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">bounds_r</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hreq</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> (<span class="id" title="var">bounds_l</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">bound</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">bounds_r</span>) <span class="id" title="var">bounds_l</span> <span class="id" title="var">bounds_r</span> <span class="id" title="var">bound</span> <span class="id" title="var">Hvalid_split</span> <span class="id" title="var">Hreq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">acts_IH</span> &amp; <span class="id" title="var">act_IH</span> &amp; <span class="id" title="var">acts_r_IH</span> &amp;<span class="id" title="var">IHacts</span> &amp; <span class="id" title="var">IHvalid</span> &amp; <span class="id" title="var">IH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">act</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">acts_IH</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">act_IH</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">acts_r_IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHacts</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds_bound"><span class="id" title="constructor">valid_bounds_bound</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">act0</span> <span class="id" title="var">acts0</span> <span class="id" title="var">bounds0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H2</span> <span class="id" title="var">into</span> <span class="id" title="var">Hvalid_acts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">bounds</span> (<span class="id" title="var">bound_l</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">bounds_l</span>) <span class="id" title="var">bounds_r</span> <span class="id" title="var">bound</span> <span class="id" title="var">Hvalid_acts</span> <span class="id" title="var">Hbounds</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">acts_IH</span> &amp; <span class="id" title="var">act_IH</span> &amp; <span class="id" title="var">acts_r_IH</span> &amp;<span class="id" title="var">IHacts</span> &amp; <span class="id" title="var">IHvalid</span> &amp; <span class="id" title="var">IH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">act</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">acts_IH</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">act_IH</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">acts_r_IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHacts</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds_nobound"><span class="id" title="constructor">valid_bounds_nobound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">IHvalid</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="valid_prop_bound" class="idref" href="#valid_prop_bound"><span class="id" title="definition">valid_prop_bound</span></a> (<a id="bound:53" class="idref" href="#bound:53"><span class="id" title="binder">bound</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) (<a id="bounds:54" class="idref" href="#bounds:54"><span class="id" title="binder">bounds</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.CumulativeCheck.html#bound:53"><span class="id" title="variable">bound</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">bound</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:53"><span class="id" title="variable">bound</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:54"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="default_bound" class="idref" href="#default_bound"><span class="id" title="definition">default_bound</span></a> := <a class="idref" href="Checker.CumulativeCheck.html#mkBoundAct"><span class="id" title="constructor">mkBoundAct</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z0"><span class="id" title="constructor">Z0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z0"><span class="id" title="constructor">Z0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N0"><span class="id" title="constructor">N0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N0"><span class="id" title="constructor">N0</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inferred_cumulative_activity_bounds_prop_bound_valid" class="idref" href="#inferred_cumulative_activity_bounds_prop_bound_valid"><span class="id" title="lemma">inferred_cumulative_activity_bounds_prop_bound_valid</span></a> <a id="constr:56" class="idref" href="#constr:56"><span class="id" title="binder">constr</span></a> <a id="fact:57" class="idref" href="#fact:57"><span class="id" title="binder">fact</span></a> <a id="bounds:58" class="idref" href="#bounds:58"><span class="id" title="binder">bounds</span></a> <a id="prop_bound_opt:59" class="idref" href="#prop_bound_opt:59"><span class="id" title="binder">prop_bound_opt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#inferred_cumulative_activity_bounds"><span class="id" title="definition">inferred_cumulative_activity_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constr:56"><span class="id" title="variable">constr</span></a> <a class="idref" href="Checker.CumulativeCheck.html#fact:57"><span class="id" title="variable">fact</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#bounds:58"><span class="id" title="variable">bounds</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Checker.CumulativeCheck.html#prop_bound_opt:59"><span class="id" title="variable">prop_bound_opt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_prop_bound"><span class="id" title="definition">valid_prop_bound</span></a> <a class="idref" href="Checker.CumulativeCheck.html#prop_bound_opt:59"><span class="id" title="variable">prop_bound_opt</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:58"><span class="id" title="variable">bounds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#inferred_cumulative_activity_bounds"><span class="id" title="definition">inferred_cumulative_activity_bounds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Deduction.html#infer_domains"><span class="id" title="definition">infer_domains</span></a> <span class="id" title="keyword">as</span> [(<span class="id" title="var">doms</span> &amp; <span class="id" title="var">maybe_prop_var</span>)| ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hinfer</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">intros</span> <span class="id" title="var">Hbounds</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbounds</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">maybe_prop_var</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">prop_var</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hprop_var</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">intros</span> <span class="id" title="var">Hbounds</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbounds</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">maybe_prop_var</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">prop_act</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfind</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">intros</span> <span class="id" title="var">Hbounds</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbounds</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Utility.html#Maps.smap.find"><span class="id" title="definition">smap.find</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">prop_dom</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfind_dom</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">intros</span> <span class="id" title="var">Hbounds</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbounds</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#act_dom_to_bounded_act"><span class="id" title="definition">act_dom_to_bounded_act</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">prop_bound</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hprop_bound</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">prop_bound_opt</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">bounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#find_some"><span class="id" title="lemma">find_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_prop_bound"><span class="id" title="definition">valid_prop_bound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ListEx.in_flat_map_option"><span class="id" title="lemma">in_flat_map_option</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">prop_act</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hfind</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Hmatch</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#activity_match"><span class="id" title="definition">activity_match</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmatch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_start"><span class="id" title="projection">activity_start</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hstart</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Strings.String.html#eqb_eq"><span class="id" title="lemma">String.eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmatch</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#act_doms_to_bounded_acts"><span class="id" title="definition">act_doms_to_bounded_acts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#act_dom_to_bounded_act"><span class="id" title="definition">act_dom_to_bounded_act</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprop_bound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Domain.html#lb_ub_from_dom"><span class="id" title="definition">lb_ub_from_dom</span></a> <span class="id" title="keyword">as</span> [(<span class="id" title="var">lb</span> &amp; <span class="id" title="var">ub</span>)|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlb_ub_dom</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hprop_bound</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hprop_bound</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#lb_ub_from_act_dom"><span class="id" title="definition">lb_ub_from_act_dom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hstart</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfind_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlb_ub_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inferred_cumulative_activity_bounds_spec" class="idref" href="#inferred_cumulative_activity_bounds_spec"><span class="id" title="lemma">inferred_cumulative_activity_bounds_spec</span></a> <a id="constr:60" class="idref" href="#constr:60"><span class="id" title="binder">constr</span></a> <a id="fact:61" class="idref" href="#fact:61"><span class="id" title="binder">fact</span></a> <a id="bounds:62" class="idref" href="#bounds:62"><span class="id" title="binder">bounds</span></a> <a id="prop_bound_opt:63" class="idref" href="#prop_bound_opt:63"><span class="id" title="binder">prop_bound_opt</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="sol:64" class="idref" href="#sol:64"><span class="id" title="binder">sol</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#inferred_cumulative_activity_bounds"><span class="id" title="definition">inferred_cumulative_activity_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constr:60"><span class="id" title="variable">constr</span></a> <a class="idref" href="Checker.CumulativeCheck.html#fact:61"><span class="id" title="variable">fact</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#bounds:62"><span class="id" title="variable">bounds</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Checker.CumulativeCheck.html#prop_bound_opt:63"><span class="id" title="variable">prop_bound_opt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:64"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constr:60"><span class="id" title="variable">constr</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:62"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ProofFacts.fact_valid"><span class="id" title="definition">fact_valid</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:64"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#fact:61"><span class="id" title="variable">fact</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sol</span> <span class="id" title="var">Hinfer_bounds</span> <span class="id" title="var">Hnvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#inferred_cumulative_activity_bounds"><span class="id" title="definition">inferred_cumulative_activity_bounds</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinfer_bounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Deduction.html#infer_domains"><span class="id" title="definition">infer_domains</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">doms</span> <span class="id" title="var">prop_var_opt</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hinfer</span>.<br/>
&nbsp;&nbsp;2: { <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinfer_bounds</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a> <span class="id" title="keyword">constr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">activities</span>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">activities</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">act</span> <span class="id" title="var">acts</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds_nil"><span class="id" title="constructor">valid_bounds_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds_nobound"><span class="id" title="constructor">valid_bounds_nobound</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Deduction.html#infer_domains_correct"><span class="id" title="lemma">infer_domains_correct</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">doms</span> := <span class="id" title="var">doms</span>) (<span class="id" title="var">xconsq</span> := <span class="id" title="var">prop_var_opt</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdoms_hold</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Checker.Utility.html#ListEx.flat_map_option"><span class="id" title="definition">flat_map_option</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Checker.CumulativeCheck.html#act_doms_to_bounded_acts"><span class="id" title="definition">act_doms_to_bounded_acts</span></a> <span class="id" title="var">doms</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a> <span class="id" title="keyword">constr</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">bounds'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Checker.Deduction.html#infer_domains"><span class="id" title="definition">infer_domains</span></a> <span class="id" title="var">fact</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">doms</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">prop_var_opt</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Checker.DomainVar.html#sol_in_doms"><span class="id" title="definition">sol_in_doms</span></a> <span class="id" title="var">sol</span> <span class="id" title="var">doms</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <span class="id" title="var">sol</span> <span class="id" title="keyword">constr</span>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a>) <span class="id" title="var">bounds'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Heqbounds'</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hinfer</span> <span class="id" title="var">Hdoms_hold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">bounds'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a> <span class="id" title="keyword">constr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">activities</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqactivities</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">activities</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">act</span> <span class="id" title="var">activities</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds_nil"><span class="id" title="constructor">valid_bounds_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.CumulativeCheck.html#act_doms_to_bounded_acts"><span class="id" title="definition">act_doms_to_bounded_acts</span></a> <span class="id" title="var">doms</span> <span class="id" title="var">act</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">bound</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hto_bound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#act_doms_to_bounded_acts"><span class="id" title="definition">act_doms_to_bounded_acts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hto_bound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#lb_ub_from_act_dom"><span class="id" title="definition">lb_ub_from_act_dom</span></a> <span class="id" title="keyword">as</span> [(<span class="id" title="var">lb</span> &amp; <span class="id" title="var">ub</span>) |] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlb_ub</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds_bound"><span class="id" title="constructor">valid_bounds_bound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hto_bound</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hto_bound</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#lb_ub_from_act_dom"><span class="id" title="definition">lb_ub_from_act_dom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlb_ub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_start"><span class="id" title="projection">activity_start</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span>|]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlb_ub</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Utility.html#Maps.smap.find"><span class="id" title="definition">smap.find</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">dom</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfind</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hdoms_hold</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.DomainVar.html#dom_from_domains"><span class="id" title="definition">dom_from_domains</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdoms_hold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfind</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdoms_hold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdoms_hold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Domain.html#is_in_dom"><span class="id" title="definition">is_in_dom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdoms_hold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Domain.html#lb_ub_from_dom"><span class="id" title="definition">lb_ub_from_dom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlb_ub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Domain.html#d_lb"><span class="id" title="projection">d_lb</span></a> <span class="id" title="var">dom</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Domain.html#d_ub"><span class="id" title="projection">d_ub</span></a> <span class="id" title="var">dom</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlb_ub</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zext_as_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hto_bound</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hto_bound</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds_nobound"><span class="id" title="constructor">valid_bounds_nobound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">bounds</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">bounds'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">prop_bound_opt</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hbound_opt_none</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hinfer_bounds</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hbounds</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqbounds'</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">bounds'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnone</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">prop_bound_opt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hnvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hinfer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hdoms_hold</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">prop_var_opt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">prop_var</span> |] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hprop_var</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">prop_act</span> |] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">apply</span> <span class="id" title="var">Hbound_opt_none</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinfer_bounds</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Utility.html#Maps.smap.find"><span class="id" title="definition">smap.find</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">prop_dom</span> |] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfind_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">apply</span> <span class="id" title="var">Hbound_opt_none</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinfer_bounds</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinfer_bounds</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqbounds'</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">bounds'</span> <span class="id" title="var">prop_bound_opt</span> <span class="id" title="var">prop_var_opt</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hinfer_bounds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hnvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">Hinfer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">Hdoms_hold</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hnvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinfer_bounds</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqbounds'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">bounds'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">Hinfer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">Hdoms_hold</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="mandatory_active" class="idref" href="#mandatory_active"><span class="id" title="definition">mandatory_active</span></a> (<a id="lb:65" class="idref" href="#lb:65"><span class="id" title="binder">lb</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="ub:66" class="idref" href="#ub:66"><span class="id" title="binder">ub</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="p_time:67" class="idref" href="#p_time:67"><span class="id" title="binder">p_time</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a id="t:68" class="idref" href="#t:68"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#ub:66"><span class="id" title="variable">ub</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#90a0b0fc12252358f48538aa18bc4b8e"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t:68"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#t:68"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#lb:65"><span class="id" title="variable">lb</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="Checker.CumulativeCheck.html#p_time:67"><span class="id" title="variable">p_time</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="activity_mandatory" class="idref" href="#activity_mandatory"><span class="id" title="definition">activity_mandatory</span></a> (<a id="t:69" class="idref" href="#t:69"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="bound:70" class="idref" href="#bound:70"><span class="id" title="binder">bound</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Checker.CumulativeCheck.html#mandatory_active"><span class="id" title="definition">mandatory_active</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:70"><span class="id" title="variable">bound</span></a>) (<a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:70"><span class="id" title="variable">bound</span></a>) (<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:70"><span class="id" title="variable">bound</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#t:69"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#b_usage"><span class="id" title="projection">b_usage</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:70"><span class="id" title="variable">bound</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mandatory_active_is_active" class="idref" href="#mandatory_active_is_active"><span class="id" title="lemma">mandatory_active_is_active</span></a> (<a id="sol:71" class="idref" href="#sol:71"><span class="id" title="binder">sol</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Assignment"><span class="id" title="definition">Assignment</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="bound:72" class="idref" href="#bound:72"><span class="id" title="binder">bound</span></a> <a id="t:73" class="idref" href="#t:73"><span class="id" title="binder">t</span></a> <a id="usage:74" class="idref" href="#usage:74"><span class="id" title="binder">usage</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#activity_mandatory"><span class="id" title="definition">activity_mandatory</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t:73"><span class="id" title="variable">t</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:72"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Checker.CumulativeCheck.html#usage:74"><span class="id" title="variable">usage</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="act:75" class="idref" href="#act:75"><span class="id" title="binder">act</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#bound:72"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.evaluate"><span class="id" title="definition">evaluate</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:75"><span class="id" title="variable">act</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_start"><span class="id" title="projection">activity_start</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#sol:71"><span class="id" title="variable">sol</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:72"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Checker.CumulativeCheck.html#bound:72"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#2ccca3280733654024e33c2005ae2530"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:75"><span class="id" title="variable">act</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_duration"><span class="id" title="projection">activity_duration</span></a>))%<span class="id" title="var">N</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.is_active_at"><span class="id" title="definition">is_active_at</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:71"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t:73"><span class="id" title="variable">t</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act:75"><span class="id" title="variable">act</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">bound</span> <span class="id" title="var">t</span> <span class="id" title="var">usage</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#activity_mandatory"><span class="id" title="definition">activity_mandatory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#mandatory_active"><span class="id" title="definition">mandatory_active</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hmand</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hmand</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#mandatory_active"><span class="id" title="definition">mandatory_active</span></a>, <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.is_active_at"><span class="id" title="definition">is_active_at</span></a>, <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.evaluate"><span class="id" title="definition">evaluate</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">andb_true_iff</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.ltb_lt"><span class="id" title="lemma">Z.ltb_lt</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">act</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_start"><span class="id" title="projection">activity_start</span></a> <span class="id" title="var">act</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hstart</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="bounds_mandatory_usage_t" class="idref" href="#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a> (<a id="bounds:76" class="idref" href="#bounds:76"><span class="id" title="binder">bounds</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) (<a id="t:77" class="idref" href="#t:77"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum"><span class="id" title="definition">n_sum</span></a> (<a class="idref" href="Checker.Utility.html#ListEx.flat_map_option"><span class="id" title="definition">flat_map_option</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#activity_mandatory"><span class="id" title="definition">activity_mandatory</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t:77"><span class="id" title="variable">t</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:76"><span class="id" title="variable">bounds</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="resource_profile_t" class="idref" href="#resource_profile_t"><span class="id" title="definition">resource_profile_t</span></a> (<a id="capacity:78" class="idref" href="#capacity:78"><span class="id" title="binder">capacity</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a id="bounds:79" class="idref" href="#bounds:79"><span class="id" title="binder">bounds</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) (<a id="t:80" class="idref" href="#t:80"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mand_usage:81" class="idref" href="#mand_usage:81"><span class="id" title="binder">mand_usage</span></a> := <a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:79"><span class="id" title="variable">bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t:80"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="Checker.CumulativeCheck.html#capacity:78"><span class="id" title="variable">capacity</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#b39870dee55afcd85c6b795fb34de165"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="Checker.CumulativeCheck.html#mand_usage:81"><span class="id" title="variable">mand_usage</span></a>)%<span class="id" title="var">N</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#capacity:78"><span class="id" title="variable">capacity</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Checker.CumulativeCheck.html#mand_usage:81"><span class="id" title="variable">mand_usage</span></a>)%<span class="id" title="var">N</span>.<br/>

<br/>
</div>

<div class="doc">
`resource_profile` expects times in reverse order, so e.g. computed using `range_rev`, as map_valid reverses the order in order to allow it to be tail-call recursive. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="resource_profile" class="idref" href="#resource_profile"><span class="id" title="definition">resource_profile</span></a> (<a id="capacity:82" class="idref" href="#capacity:82"><span class="id" title="binder">capacity</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a id="bounds:83" class="idref" href="#bounds:83"><span class="id" title="binder">bounds</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) (<a id="times:84" class="idref" href="#times:84"><span class="id" title="binder">times</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Utility.html#ListEx.map_valid"><span class="id" title="definition">map_valid</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#resource_profile_t"><span class="id" title="definition">resource_profile_t</span></a> <a class="idref" href="Checker.CumulativeCheck.html#capacity:82"><span class="id" title="variable">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:83"><span class="id" title="variable">bounds</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#times:84"><span class="id" title="variable">times</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="check_can_be_active" class="idref" href="#check_can_be_active"><span class="id" title="definition">check_can_be_active</span></a> (<a id="bound:85" class="idref" href="#bound:85"><span class="id" title="binder">bound</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) (<a id="usage_left_t:86" class="idref" href="#usage_left_t:86"><span class="id" title="binder">usage_left_t</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a id="t:87" class="idref" href="#t:87"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Checker.CumulativeCheck.html#mandatory_active"><span class="id" title="definition">mandatory_active</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:85"><span class="id" title="variable">bound</span></a>) (<a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:85"><span class="id" title="variable">bound</span></a>) (<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:85"><span class="id" title="variable">bound</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#t:87"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Checker.CumulativeCheck.html#b_usage"><span class="id" title="projection">b_usage</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:85"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#05335162eaa480b4616c18e1c329eb57"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="Checker.CumulativeCheck.html#usage_left_t:86"><span class="id" title="variable">usage_left_t</span></a>)%<span class="id" title="var">N</span>.<br/>

<br/>
</div>

<div class="doc">
Given a function that takes a Z as its second argument, map a list of A's and provide an increasing value as the second argument, incremented by 1 for each value starting at starting point `z`. Example: Given a list <span class="inlinecode"><span class="id" title="var">a</span>,</span> <span class="inlinecode"><span class="id" title="var">b</span>,</span> <span class="inlinecode"><span class="id" title="var">c</span></span> and start value -1, it will return <span class="inlinecode"><a class="idref" href="Checker.Utility.html#SubList.Map.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode">-1,</span> <span class="inlinecode"><a class="idref" href="Checker.Utility.html#SubList.Map.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">0,</span> <span class="inlinecode"><a class="idref" href="Checker.Utility.html#SubList.Map.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">1</span>. Used in practice when you have a list of timepoints that you map, but then do not want to again store the timepoint with the result (because it is needed in a later step or proof). 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="z_map" class="idref" href="#z_map"><span class="id" title="definition">z_map</span></a> {<a id="A:88" class="idref" href="#A:88"><span class="id" title="binder">A</span></a> <a id="B:89" class="idref" href="#B:89"><span class="id" title="binder">B</span></a>} (<a id="f:90" class="idref" href="#f:90"><span class="id" title="binder">f</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#A:88"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Checker.CumulativeCheck.html#B:89"><span class="id" title="variable">B</span></a>) (<a id="l:91" class="idref" href="#l:91"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#A:88"><span class="id" title="variable">A</span></a>) (<a id="z:92" class="idref" href="#z:92"><span class="id" title="binder">z</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.CumulativeCheck.html#l:91"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#f:90"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <a class="idref" href="Checker.CumulativeCheck.html#z:92"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Checker.CumulativeCheck.html#z_map:93"><span class="id" title="definition">z_map</span></a> <a class="idref" href="Checker.CumulativeCheck.html#f:90"><span class="id" title="variable">f</span></a> <span class="id" title="var">l'</span> (<a class="idref" href="Checker.CumulativeCheck.html#z:92"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
We can write z_map in terms of map, range and combine by first combining the original list l with the range and then calling map on it with f. This allows us to use well-known facts about map, combine and range instead of having to prove all of these for z_map. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="z_map_as_map" class="idref" href="#z_map_as_map"><span class="id" title="lemma">z_map_as_map</span></a> {<a id="A:95" class="idref" href="#A:95"><span class="id" title="binder">A</span></a> <a id="B:96" class="idref" href="#B:96"><span class="id" title="binder">B</span></a>} (<a id="f:97" class="idref" href="#f:97"><span class="id" title="binder">f</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#A:95"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Checker.CumulativeCheck.html#B:96"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="l:98" class="idref" href="#l:98"><span class="id" title="binder">l</span></a> <a id="z:99" class="idref" href="#z:99"><span class="id" title="binder">z</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#z_map"><span class="id" title="definition">z_map</span></a> <a class="idref" href="Checker.CumulativeCheck.html#f:97"><span class="id" title="variable">f</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:98"><span class="id" title="variable">l</span></a> <a class="idref" href="Checker.CumulativeCheck.html#z:99"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="p:100" class="idref" href="#p:100"><span class="id" title="binder">p</span></a> =&gt; <a class="idref" href="Checker.CumulativeCheck.html#f:97"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Checker.CumulativeCheck.html#p:100"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Checker.CumulativeCheck.html#p:100"><span class="id" title="variable">p</span></a>)) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:98"><span class="id" title="variable">l</span></a> (<a class="idref" href="Checker.Utility.html#ZRange.range"><span class="id" title="definition">range</span></a> <a class="idref" href="Checker.CumulativeCheck.html#z:99"><span class="id" title="variable">z</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:98"><span class="id" title="variable">l</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="Checker.CumulativeCheck.html#z:99"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">simpl</span> <a class="idref" href="Checker.CumulativeCheck.html#z_map"><span class="id" title="definition">z_map</span></a>. <span class="id" title="tactic">simpl</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">llen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">z</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">with</span> (<span class="id" title="var">llen</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">z</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.range_cons"><span class="id" title="lemma">range_cons</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">llen</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">(</span></a><span class="id" title="var">z</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">with</span> (<span class="id" title="var">llen</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">z</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="length_z_map" class="idref" href="#length_z_map"><span class="id" title="lemma">length_z_map</span></a> {<a id="A:101" class="idref" href="#A:101"><span class="id" title="binder">A</span></a> <a id="B:102" class="idref" href="#B:102"><span class="id" title="binder">B</span></a>} (<a id="f:103" class="idref" href="#f:103"><span class="id" title="binder">f</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#A:101"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Checker.CumulativeCheck.html#B:102"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="l:104" class="idref" href="#l:104"><span class="id" title="binder">l</span></a> <a id="z:105" class="idref" href="#z:105"><span class="id" title="binder">z</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#z_map"><span class="id" title="definition">z_map</span></a> <a class="idref" href="Checker.CumulativeCheck.html#f:103"><span class="id" title="variable">f</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:104"><span class="id" title="variable">l</span></a> <a class="idref" href="Checker.CumulativeCheck.html#z:105"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:104"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.CumulativeCheck.html#z_map_as_map"><span class="id" title="lemma">z_map_as_map</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#length_combine"><span class="id" title="lemma">length_combine</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.length_range"><span class="id" title="lemma">length_range</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We now give a specification that is easier to work with. Given that we provide an n that corresponds to some integer that the list is combined with by z_map and that the corresponding element in l is equal to some value a, then the nth value (in the nth_z sense) is equal to applying f to a with n as the second argument. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="z_map_spec" class="idref" href="#z_map_spec"><span class="id" title="lemma">z_map_spec</span></a> {<a id="A:106" class="idref" href="#A:106"><span class="id" title="binder">A</span></a> <a id="B:107" class="idref" href="#B:107"><span class="id" title="binder">B</span></a>} (<a id="f:108" class="idref" href="#f:108"><span class="id" title="binder">f</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#A:106"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Checker.CumulativeCheck.html#B:107"><span class="id" title="variable">B</span></a>) (<a id="d:109" class="idref" href="#d:109"><span class="id" title="binder">d</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#A:106"><span class="id" title="variable">A</span></a>) (<a id="d_b:110" class="idref" href="#d_b:110"><span class="id" title="binder">d_b</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#B:107"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="l:111" class="idref" href="#l:111"><span class="id" title="binder">l</span></a> <a id="z:112" class="idref" href="#z:112"><span class="id" title="binder">z</span></a> <a id="n:113" class="idref" href="#n:113"><span class="id" title="binder">n</span></a> <a id="a:114" class="idref" href="#a:114"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#z:112"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#n:113"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:111"><span class="id" title="variable">l</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="Checker.CumulativeCheck.html#z:112"><span class="id" title="variable">z</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Utility.html#ZRange.nth_z"><span class="id" title="definition">nth_z</span></a> <a class="idref" href="Checker.CumulativeCheck.html#n:113"><span class="id" title="variable">n</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:111"><span class="id" title="variable">l</span></a> <a class="idref" href="Checker.CumulativeCheck.html#z:112"><span class="id" title="variable">z</span></a> <a class="idref" href="Checker.CumulativeCheck.html#d:109"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#a:114"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Utility.html#ZRange.nth_z"><span class="id" title="definition">nth_z</span></a> <a class="idref" href="Checker.CumulativeCheck.html#n:113"><span class="id" title="variable">n</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#z_map"><span class="id" title="definition">z_map</span></a> <a class="idref" href="Checker.CumulativeCheck.html#f:108"><span class="id" title="variable">f</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:111"><span class="id" title="variable">l</span></a> <a class="idref" href="Checker.CumulativeCheck.html#z:112"><span class="id" title="variable">z</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#z:112"><span class="id" title="variable">z</span></a> <a class="idref" href="Checker.CumulativeCheck.html#d_b:110"><span class="id" title="variable">d_b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#f:108"><span class="id" title="variable">f</span></a> <a class="idref" href="Checker.CumulativeCheck.html#a:114"><span class="id" title="variable">a</span></a> <a class="idref" href="Checker.CumulativeCheck.html#n:113"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">z</span> <span class="id" title="var">n</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Utility.html#ZRange.nth_z"><span class="id" title="definition">nth_z</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#a1c27bbd9f48118f287c317de583e02e"><span class="id" title="notation">&gt;=?</span></a> <span class="id" title="var">z</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hznl</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#nth_indep"><span class="id" title="lemma">nth_indep</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">d'</span> := <span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z0"><span class="id" title="constructor">Z0</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.CumulativeCheck.html#length_z_map"><span class="id" title="lemma">length_z_map</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">z</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">as</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">z</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hze</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.CumulativeCheck.html#z_map_as_map"><span class="id" title="lemma">z_map_as_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Checker.Utility.html#ZRange.map_nth_len_lt"><span class="id" title="lemma">map_nth_len_lt</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">d</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 0<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#length_combine"><span class="id" title="lemma">length_combine</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.length_range"><span class="id" title="lemma">length_range</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#combine_nth"><span class="id" title="lemma">combine_nth</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.length_range"><span class="id" title="lemma">length_range</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#nth_indep"><span class="id" title="lemma">nth_indep</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">d'</span> := <span class="id" title="var">d</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.range_nth_spec"><span class="id" title="lemma">range_nth_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We now give a condition for a run of a certain length (defined with nth) in terms of nth_z. The main benefit of using nth_z is that we can work more directly with the actual time instead of the time's index in the list of times we work with. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="nth_z_run" class="idref" href="#nth_z_run"><span class="id" title="lemma">nth_z_run</span></a> (<a id="l:115" class="idref" href="#l:115"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="k:116" class="idref" href="#k:116"><span class="id" title="binder">k</span></a> <a id="n:117" class="idref" href="#n:117"><span class="id" title="binder">n</span></a> <a id="start:118" class="idref" href="#start:118"><span class="id" title="binder">start</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="kz:119" class="idref" href="#kz:119"><span class="id" title="binder">kz</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="Checker.CumulativeCheck.html#k:116"><span class="id" title="variable">k</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="nz:120" class="idref" href="#nz:120"><span class="id" title="binder">nz</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="Checker.CumulativeCheck.html#n:117"><span class="id" title="variable">n</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="iz:121" class="idref" href="#iz:121"><span class="id" title="binder">iz</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#start:118"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="Checker.CumulativeCheck.html#kz:119"><span class="id" title="variable">kz</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#iz:121"><span class="id" title="variable">iz</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Checker.CumulativeCheck.html#start:118"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="Checker.CumulativeCheck.html#kz:119"><span class="id" title="variable">kz</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="Checker.CumulativeCheck.html#nz:120"><span class="id" title="variable">nz</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Utility.html#ZRange.nth_z"><span class="id" title="definition">nth_z</span></a> <a class="idref" href="Checker.CumulativeCheck.html#iz:121"><span class="id" title="variable">iz</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:115"><span class="id" title="variable">l</span></a> <a class="idref" href="Checker.CumulativeCheck.html#start:118"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <a id="i:122" class="idref" href="#i:122"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#k:116"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#i:122"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Checker.CumulativeCheck.html#k:116"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Checker.CumulativeCheck.html#n:117"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="Checker.CumulativeCheck.html#i:122"><span class="id" title="variable">i</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:115"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">n</span> <span class="id" title="var">start</span> <span class="id" title="var">kz</span> <span class="id" title="var">nz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">start</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">iz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">iz</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.nth_z_spec"><span class="id" title="lemma">nth_z_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<span class="id" title="var">iz</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">start</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hizi</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hizi</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Using z_map gives us a condition for which a run starting at some particular value k has size at least n, namely if all values corresponding to some interval evaluate to true. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="run_at_z_map" class="idref" href="#run_at_z_map"><span class="id" title="lemma">run_at_z_map</span></a> {<a id="A:123" class="idref" href="#A:123"><span class="id" title="binder">A</span></a>} (<a id="f:124" class="idref" href="#f:124"><span class="id" title="binder">f</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#A:123"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="l:125" class="idref" href="#l:125"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#A:123"><span class="id" title="variable">A</span></a>) (<a id="start:126" class="idref" href="#start:126"><span class="id" title="binder">start</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="d:127" class="idref" href="#d:127"><span class="id" title="binder">d</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#A:123"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="k:128" class="idref" href="#k:128"><span class="id" title="binder">k</span></a> <a id="n:129" class="idref" href="#n:129"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="kz:130" class="idref" href="#kz:130"><span class="id" title="binder">kz</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="Checker.CumulativeCheck.html#k:128"><span class="id" title="variable">k</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="nz:131" class="idref" href="#nz:131"><span class="id" title="binder">nz</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="Checker.CumulativeCheck.html#n:129"><span class="id" title="variable">n</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:125"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#k:128"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Checker.CumulativeCheck.html#n:129"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="e:132" class="idref" href="#e:132"><span class="id" title="binder">e</span></a> <a id="a:133" class="idref" href="#a:133"><span class="id" title="binder">a</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#start:126"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="Checker.CumulativeCheck.html#kz:130"><span class="id" title="variable">kz</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#e:132"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Checker.CumulativeCheck.html#start:126"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="Checker.CumulativeCheck.html#kz:130"><span class="id" title="variable">kz</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="Checker.CumulativeCheck.html#nz:131"><span class="id" title="variable">nz</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Utility.html#ZRange.nth_z"><span class="id" title="definition">nth_z</span></a> <a class="idref" href="Checker.CumulativeCheck.html#e:132"><span class="id" title="variable">e</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:125"><span class="id" title="variable">l</span></a> <a class="idref" href="Checker.CumulativeCheck.html#start:126"><span class="id" title="variable">start</span></a> <a class="idref" href="Checker.CumulativeCheck.html#d:127"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#a:133"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#f:124"><span class="id" title="variable">f</span></a> <a class="idref" href="Checker.CumulativeCheck.html#a:133"><span class="id" title="variable">a</span></a> <a class="idref" href="Checker.CumulativeCheck.html#e:132"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Checker.CumulativeUtil.html#RunOfN.run_at"><span class="id" title="definition">run_at</span></a> <a class="idref" href="Checker.CumulativeCheck.html#k:128"><span class="id" title="variable">k</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#z_map"><span class="id" title="definition">z_map</span></a> <a class="idref" href="Checker.CumulativeCheck.html#f:124"><span class="id" title="variable">f</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:125"><span class="id" title="variable">l</span></a> <a class="idref" href="Checker.CumulativeCheck.html#start:126"><span class="id" title="variable">start</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#n:129"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">n</span> <span class="id" title="var">kz</span> <span class="id" title="var">nz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeUtil.html#RunOfN.run_at_nth"><span class="id" title="lemma">run_at_nth</span></a>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.CumulativeCheck.html#length_z_map"><span class="id" title="lemma">length_z_map</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hlen</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#nth_z_run"><span class="id" title="lemma">nth_z_run</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">start</span> := <span class="id" title="var">start</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">iz</span> <span class="id" title="var">Hiz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.CumulativeCheck.html#z_map_spec"><span class="id" title="lemma">z_map_spec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">d</span> := <span class="id" title="var">d</span>) (<span class="id" title="var">a</span> := <a class="idref" href="Checker.Utility.html#ZRange.nth_z"><span class="id" title="definition">nth_z</span></a> <span class="id" title="var">iz</span> <span class="id" title="var">l</span> <span class="id" title="var">start</span> <span class="id" title="var">d</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="profile_to_active_list" class="idref" href="#profile_to_active_list"><span class="id" title="definition">profile_to_active_list</span></a> (<a id="act_bound:134" class="idref" href="#act_bound:134"><span class="id" title="binder">act_bound</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) (<a id="profile:135" class="idref" href="#profile:135"><span class="id" title="binder">profile</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#z_map"><span class="id" title="definition">z_map</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#check_can_be_active"><span class="id" title="definition">check_can_be_active</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act_bound:134"><span class="id" title="variable">act_bound</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#profile:135"><span class="id" title="variable">profile</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a> <a class="idref" href="Checker.CumulativeCheck.html#act_bound:134"><span class="id" title="variable">act_bound</span></a>).<br/>

<br/>
</div>

<div class="doc">
Given a profile, see if it is possible to schedule an activity somewhere by checking if there is a space at least the size of the activity's duration where the activity can be active given the profile. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="can_schedule_activity_with_profile" class="idref" href="#can_schedule_activity_with_profile"><span class="id" title="definition">can_schedule_activity_with_profile</span></a> (<a id="bound:136" class="idref" href="#bound:136"><span class="id" title="binder">bound</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) (<a id="profile:137" class="idref" href="#profile:137"><span class="id" title="binder">profile</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeUtil.html#RunOfN.has_n_true"><span class="id" title="definition">has_n_true</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#N.to_nat"><span class="id" title="definition">N.to_nat</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:136"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a>)) (<a class="idref" href="Checker.CumulativeCheck.html#profile_to_active_list"><span class="id" title="definition">profile_to_active_list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:136"><span class="id" title="variable">bound</span></a> <a class="idref" href="Checker.CumulativeCheck.html#profile:137"><span class="id" title="variable">profile</span></a>).<br/>

<br/>
</div>

<div class="doc">
Given a capacity, a list of bounds and a particular bound, first checks whether there is a time conflict somewhere between the bound's earliest starting time and latest completion time. If no such time conflict exists, it checks for an activity conflict for that particular bound by checking if it cannot be scheduled anywhere in its bounds. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="check_conflict_for_bound" class="idref" href="#check_conflict_for_bound"><span class="id" title="definition">check_conflict_for_bound</span></a> (<a id="capacity:138" class="idref" href="#capacity:138"><span class="id" title="binder">capacity</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a id="bounds:139" class="idref" href="#bounds:139"><span class="id" title="binder">bounds</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) (<a id="bound:140" class="idref" href="#bound:140"><span class="id" title="binder">bound</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="times:141" class="idref" href="#times:141"><span class="id" title="binder">times</span></a> := <a class="idref" href="Checker.Utility.html#ZRange.range_rev"><span class="id" title="definition">range_rev</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:140"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a>) (<a class="idref" href="Checker.CumulativeCheck.html#bound:140"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#bound:140"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile"><span class="id" title="definition">resource_profile</span></a> <a class="idref" href="Checker.CumulativeCheck.html#capacity:138"><span class="id" title="variable">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:139"><span class="id" title="variable">bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#times:141"><span class="id" title="variable">times</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">profile</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#can_schedule_activity_with_profile"><span class="id" title="definition">can_schedule_activity_with_profile</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:140"><span class="id" title="variable">bound</span></a> <span class="id" title="var">profile</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Compute the minimum lower bound and maximum upper bound of a list of bounds. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="bounds_times" class="idref" href="#bounds_times"><span class="id" title="definition">bounds_times</span></a> (<a id="bounds:142" class="idref" href="#bounds:142"><span class="id" title="binder">bounds</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t_min:143" class="idref" href="#t_min:143"><span class="id" title="binder">t_min</span></a> := <a class="idref" href="Checker.Utility.html#ZMaxMinList.min_l"><span class="id" title="definition">min_l</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:142"><span class="id" title="variable">bounds</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t_max:144" class="idref" href="#t_max:144"><span class="id" title="binder">t_max</span></a> := <a class="idref" href="Checker.Utility.html#ZMaxMinList.max_l"><span class="id" title="definition">max_l</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:142"><span class="id" title="variable">bounds</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#t_min:143"><span class="id" title="variable">t_min</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_max:144"><span class="id" title="variable">t_max</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
All bounds in a list of bounds have some basic facts known about them. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="valid_bounds_properties" class="idref" href="#valid_bounds_properties"><span class="id" title="lemma">valid_bounds_properties</span></a> <a id="constr:145" class="idref" href="#constr:145"><span class="id" title="binder">constr</span></a> <a id="sol:146" class="idref" href="#sol:146"><span class="id" title="binder">sol</span></a> <a id="bounds:147" class="idref" href="#bounds:147"><span class="id" title="binder">bounds</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:146"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constr:145"><span class="id" title="variable">constr</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:147"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="bound:148" class="idref" href="#bound:148"><span class="id" title="binder">bound</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Checker.CumulativeCheck.html#bound:148"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#6fb803f79b7beee0d28f21eca700db5e"><span class="id" title="notation">&gt;=</span></a> 1)%<span class="id" title="var">N</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#bound:148"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:148"><span class="id" title="variable">bound</span></a>.(<a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a>)<br/>
&nbsp;&nbsp;) <a class="idref" href="Checker.CumulativeCheck.html#bounds:147"><span class="id" title="variable">bounds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">bound</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_split"><span class="id" title="lemma">in_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">bounds_l</span> &amp; <span class="id" title="var">bounds_r</span> &amp; <span class="id" title="var">Hbounds</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bound_matching_activity"><span class="id" title="lemma">valid_bound_matching_activity</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">sol</span> := <span class="id" title="var">sol</span>) (<span class="id" title="var">acts</span> := <span class="id" title="keyword">constr</span>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">exact</span> <span class="id" title="var">Hvalid</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbounds</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">acts_l</span> &amp; <span class="id" title="var">act</span> &amp; <span class="id" title="var">acts_r</span> &amp; <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> <span class="id" title="keyword">constr</span>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.valid_durations"><span class="id" title="projection">valid_durations</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hdur</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdur</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hdur</span> <span class="id" title="var">act</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">act</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a> <span class="id" title="keyword">constr</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">H</span> &amp; <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hdur</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Using the fact that every individual lower bound is less than or equal to upper bound, means that the minimum time will also be less than or equal to the max time of all bounds. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="bounds_times_le" class="idref" href="#bounds_times_le"><span class="id" title="lemma">bounds_times_le</span></a> <a id="constr:149" class="idref" href="#constr:149"><span class="id" title="binder">constr</span></a> <a id="sol:150" class="idref" href="#sol:150"><span class="id" title="binder">sol</span></a> <a id="bounds:151" class="idref" href="#bounds:151"><span class="id" title="binder">bounds</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:150"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constr:149"><span class="id" title="variable">constr</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:151"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="t_min:152" class="idref" href="#t_min:152"><span class="id" title="binder">t_min</span></a> <a id="t_max:153" class="idref" href="#t_max:153"><span class="id" title="binder">t_max</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#bounds_times"><span class="id" title="definition">bounds_times</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:151"><span class="id" title="variable">bounds</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#t_min:152"><span class="id" title="variable">t_min</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_max:153"><span class="id" title="variable">t_max</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#t_min:152"><span class="id" title="variable">t_min</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_max:153"><span class="id" title="variable">t_max</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvalid</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t_min</span> <span class="id" title="var">t_max</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#bounds_times"><span class="id" title="definition">bounds_times</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a> <span class="id" title="keyword">as</span> [| <span class="id" title="var">act</span> <span class="id" title="var">acts</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">bounds</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Utility.html#ZMaxMinList.min_l"><span class="id" title="definition">min_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Utility.html#ZMaxMinList.max_l"><span class="id" title="definition">max_l</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">act0</span> <span class="id" title="var">acts0</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">bounds0</span> <span class="id" title="var">into</span> <span class="id" title="var">bounds'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a> <span class="id" title="var">bound</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a> <span class="id" title="var">bounds</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">bounds</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a> <span class="id" title="var">bound</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a> <span class="id" title="var">bounds</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">bounds</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Utility.html#ZMaxMinList.min_l_spec"><span class="id" title="lemma">min_l_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Utility.html#ZMaxMinList.max_l_spec"><span class="id" title="lemma">max_l_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="check_time_conflict_horizon" class="idref" href="#check_time_conflict_horizon"><span class="id" title="definition">check_time_conflict_horizon</span></a> (<a id="capacity:154" class="idref" href="#capacity:154"><span class="id" title="binder">capacity</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a id="bounds:155" class="idref" href="#bounds:155"><span class="id" title="binder">bounds</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#BoundedActivity"><span class="id" title="record">BoundedActivity</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="t_min:156" class="idref" href="#t_min:156"><span class="id" title="binder">t_min</span></a>, <a id="t_max:157" class="idref" href="#t_max:157"><span class="id" title="binder">t_max</span></a>) := <a class="idref" href="Checker.CumulativeCheck.html#bounds_times"><span class="id" title="definition">bounds_times</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:155"><span class="id" title="variable">bounds</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="times:158" class="idref" href="#times:158"><span class="id" title="binder">times</span></a> := <a class="idref" href="Checker.Utility.html#ZRange.range"><span class="id" title="definition">range</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_min:156"><span class="id" title="variable">t_min</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_max:157"><span class="id" title="variable">t_max</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile"><span class="id" title="definition">resource_profile</span></a> <a class="idref" href="Checker.CumulativeCheck.html#capacity:154"><span class="id" title="variable">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:155"><span class="id" title="variable">bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#times:158"><span class="id" title="variable">times</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="cumulative_checker" class="idref" href="#cumulative_checker"><span class="id" title="definition">cumulative_checker</span></a> (<a id="fact:159" class="idref" href="#fact:159"><span class="id" title="binder">fact</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a>) (<a id="constraint:160" class="idref" href="#constraint:160"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.CumulativeConstraint"><span class="id" title="record">CumulativeConstraint</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="bounds:161" class="idref" href="#bounds:161"><span class="id" title="binder">bounds</span></a>, <a id="maybe_bound_rhs:162" class="idref" href="#maybe_bound_rhs:162"><span class="id" title="binder">maybe_bound_rhs</span></a>) := <a class="idref" href="Checker.CumulativeCheck.html#inferred_cumulative_activity_bounds"><span class="id" title="definition">inferred_cumulative_activity_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:160"><span class="id" title="variable">constraint</span></a> <a class="idref" href="Checker.CumulativeCheck.html#fact:159"><span class="id" title="variable">fact</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="rhs_found_conflict:164" class="idref" href="#rhs_found_conflict:164"><span class="id" title="binder">rhs_found_conflict</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.CumulativeCheck.html#maybe_bound_rhs:162"><span class="id" title="variable">maybe_bound_rhs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">bound_rhs</span> =&gt; <a class="idref" href="Checker.CumulativeCheck.html#check_conflict_for_bound"><span class="id" title="definition">check_conflict_for_bound</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:160"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:161"><span class="id" title="variable">bounds</span></a> <span class="id" title="var">bound_rhs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Checker.CumulativeCheck.html#rhs_found_conflict:164"><span class="id" title="variable">rhs_found_conflict</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <a class="idref" href="Checker.CumulativeCheck.html#check_time_conflict_horizon"><span class="id" title="definition">check_time_conflict_horizon</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:160"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:161"><span class="id" title="variable">bounds</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#check_conflict_for_bound"><span class="id" title="definition">check_conflict_for_bound</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:160"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:161"><span class="id" title="variable">bounds</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:161"><span class="id" title="variable">bounds</span></a>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">N_scope</span>.<br/>
</div>

<div class="doc">
If the bounds were computed in a valid way, the mandatory usage of bounds at some time t should always be less than the usage of all activities active at t. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="bounds_mandatory_t_le_usage" class="idref" href="#bounds_mandatory_t_le_usage"><span class="id" title="lemma">bounds_mandatory_t_le_usage</span></a> <a id="assignment:165" class="idref" href="#assignment:165"><span class="id" title="binder">assignment</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="activities:166" class="idref" href="#activities:166"><span class="id" title="binder">activities</span></a> <a id="bounds:167" class="idref" href="#bounds:167"><span class="id" title="binder">bounds</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#assignment:165"><span class="id" title="variable">assignment</span></a> <a class="idref" href="Checker.CumulativeCheck.html#activities:166"><span class="id" title="variable">activities</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:167"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="t:168" class="idref" href="#t:168"><span class="id" title="binder">t</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:167"><span class="id" title="variable">bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t:168"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#2ccca3280733654024e33c2005ae2530"><span class="id" title="notation">&lt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.usage_at_timepoint"><span class="id" title="definition">usage_at_timepoint</span></a> <a class="idref" href="Checker.CumulativeCheck.html#assignment:165"><span class="id" title="variable">assignment</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t:168"><span class="id" title="variable">t</span></a> <a class="idref" href="Checker.CumulativeCheck.html#activities:166"><span class="id" title="variable">activities</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">activities</span>.<br/>
</div>

<div class="doc">
Due to the nature of `valid_bounds` and the fact we cannot easily get the activity associated with a bound because bounds have no name, we use an inductive proof. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">activities</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">act</span> <span class="id" title="var">acts</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">bounds</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">bounds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">bounds</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <a id="act:169" class="idref" href="#act:169"><span class="id" title="binder"><span id="act:171" class="id">act</span></span></a> <a id="acts:170" class="idref" href="#acts:170"><span class="id" title="binder"><span id="acts:172" class="id">acts</span></span></a>, <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.usage_at_timepoint"><span class="id" title="definition">usage_at_timepoint</span></a> <span class="id" title="var">assignment</span> <span class="id" title="var">t</span> <a class="idref" href="Checker.CumulativeCheck.html#acts:170"><span class="id" title="variable">acts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#2ccca3280733654024e33c2005ae2530"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.usage_at_timepoint"><span class="id" title="definition">usage_at_timepoint</span></a> <span class="id" title="var">assignment</span> <span class="id" title="var">t</span> (<a class="idref" href="Checker.CumulativeCheck.html#act:169"><span class="id" title="variable">act</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Checker.CumulativeCheck.html#acts:170"><span class="id" title="variable">acts</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hact_add</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">act</span> <span class="id" title="var">acts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.usage_at_timepoint"><span class="id" title="definition">usage_at_timepoint</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_fold_is_n_sum"><span class="id" title="lemma">n_fold_is_n_sum</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum"><span class="id" title="definition">n_sum</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.is_active_at"><span class="id" title="definition">is_active_at</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum_add"><span class="id" title="lemma">n_sum_add</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">act0</span> <span class="id" title="var">acts0</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">bounds0</span> <span class="id" title="var">into</span> <span class="id" title="var">bounds'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">bounds'</span> <span class="id" title="var">H2</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hact_add</span> <span class="id" title="var">act</span> <span class="id" title="var">acts</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#activity_mandatory"><span class="id" title="definition">activity_mandatory</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hmand</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hmand</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hactive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#activity_mandatory"><span class="id" title="definition">activity_mandatory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmand</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#mandatory_active"><span class="id" title="definition">mandatory_active</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmand</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmand</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hmand</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#mandatory_active_is_active"><span class="id" title="lemma">mandatory_active_is_active</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">sol</span> := <span class="id" title="var">assignment</span>) (<span class="id" title="var">act</span> := <span class="id" title="var">act</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hactive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.usage_at_timepoint"><span class="id" title="definition">usage_at_timepoint</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_fold_is_n_sum"><span class="id" title="lemma">n_fold_is_n_sum</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hactive</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum"><span class="id" title="definition">n_sum</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum_add"><span class="id" title="lemma">n_sum_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> <span class="id" title="var">Hstart</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">bounds</span> <span class="id" title="var">H2</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hact_add</span> <span class="id" title="var">act</span> <span class="id" title="var">acts</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Given a cumulative constraint, a solution for that constraint and a list of bounds corresponding to that constraint and satisfied by that solution, a resource profile should not overflow and should therefore return a profile. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="no_profile_overflow_for_solution" class="idref" href="#no_profile_overflow_for_solution"><span class="id" title="lemma">no_profile_overflow_for_solution</span></a> <a id="constraint:173" class="idref" href="#constraint:173"><span class="id" title="binder">constraint</span></a> <a id="assignment:174" class="idref" href="#assignment:174"><span class="id" title="binder">assignment</span></a> <a id="bounds:175" class="idref" href="#bounds:175"><span class="id" title="binder">bounds</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Cumulative"><span class="id" title="definition">Cumulative</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:173"><span class="id" title="variable">constraint</span></a> <a class="idref" href="Checker.CumulativeCheck.html#assignment:174"><span class="id" title="variable">assignment</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#assignment:174"><span class="id" title="variable">assignment</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:173"><span class="id" title="variable">constraint</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:175"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="times:176" class="idref" href="#times:176"><span class="id" title="binder">times</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#times:176"><span class="id" title="variable">times</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#resource_profile"><span class="id" title="definition">resource_profile</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:173"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:175"><span class="id" title="variable">bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#times:176"><span class="id" title="variable">times</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcumul</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">times</span> <span class="id" title="var">Htimesnnil</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile"><span class="id" title="definition">resource_profile</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hmap_valid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Utility.html#ListEx.map_valid_nil_ex_none"><span class="id" title="lemma">map_valid_nil_ex_none</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmap_valid</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmap_valid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t</span> &amp; <span class="id" title="var">Ht_in</span> &amp; <span class="id" title="var">Hprofile</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile_t"><span class="id" title="definition">resource_profile_t</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprofile</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <span class="id" title="var">constraint</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#b39870dee55afcd85c6b795fb34de165"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a> <span class="id" title="var">bounds</span> <span class="id" title="var">t</span>)%<span class="id" title="var">N</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hcap</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">discriminate</span> <span class="id" title="var">Hprofile</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#N.ltb_lt"><span class="id" title="lemma">N.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcumul</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_t_le_usage"><span class="id" title="lemma">bounds_mandatory_t_le_usage</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t</span> := <span class="id" title="var">t</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>
</div>

<div class="doc">
For a particular capacity.set of bounds and a minimum and maximum time, a profile is valid if it has the correct length and if for every element corresponding to a particular time, that element is the result of a profile calculation.  
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="valid_profile" class="idref" href="#valid_profile"><span class="id" title="definition">valid_profile</span></a> <a id="capacity:177" class="idref" href="#capacity:177"><span class="id" title="binder">capacity</span></a> <a id="bounds:178" class="idref" href="#bounds:178"><span class="id" title="binder">bounds</span></a> (<a id="profile:179" class="idref" href="#profile:179"><span class="id" title="binder">profile</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a id="t_min:180" class="idref" href="#t_min:180"><span class="id" title="binder">t_min</span></a> <a id="t_max:181" class="idref" href="#t_max:181"><span class="id" title="binder">t_max</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Checker.CumulativeCheck.html#profile:179"><span class="id" title="variable">profile</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#t_max:181"><span class="id" title="variable">t_max</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_min:180"><span class="id" title="variable">t_min</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="t:182" class="idref" href="#t:182"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#t_min:180"><span class="id" title="variable">t_min</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t:182"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_max:181"><span class="id" title="variable">t_max</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Checker.Utility.html#ZRange.nth_z"><span class="id" title="definition">nth_z</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t:182"><span class="id" title="variable">t</span></a> <a class="idref" href="Checker.CumulativeCheck.html#profile:179"><span class="id" title="variable">profile</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_min:180"><span class="id" title="variable">t_min</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N0"><span class="id" title="constructor">N0</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile_t"><span class="id" title="definition">resource_profile_t</span></a> <a class="idref" href="Checker.CumulativeCheck.html#capacity:177"><span class="id" title="variable">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:178"><span class="id" title="variable">bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t:182"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Sorting.Permutation.html#"><span class="id" title="library">Permutation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">N_scope</span>.<br/>
</div>

<div class="doc">
We are not actually using this, but it shows the principle we use to prove `can_schedule_activity_with_profile_valid`. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="n_sum_map" class="idref" href="#n_sum_map"><span class="id" title="lemma">n_sum_map</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="A:183" class="idref" href="#A:183"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:184" class="idref" href="#f:184"><span class="id" title="binder">f</span></a> : <a class="idref" href="Checker.CumulativeCheck.html#A:183"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) <a id="l1:185" class="idref" href="#l1:185"><span class="id" title="binder">l1</span></a> <a id="l2:186" class="idref" href="#l2:186"><span class="id" title="binder">l2</span></a> <a id="a:187" class="idref" href="#a:187"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Utility.html#SubList.sublist"><span class="id" title="definition">sublist</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l1:185"><span class="id" title="variable">l1</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l2:186"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Checker.CumulativeCheck.html#a:187"><span class="id" title="variable">a</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l1:185"><span class="id" title="variable">l1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Checker.CumulativeCheck.html#a:187"><span class="id" title="variable">a</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l2:186"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum"><span class="id" title="definition">n_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Checker.CumulativeCheck.html#f:184"><span class="id" title="variable">f</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l1:185"><span class="id" title="variable">l1</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#f:184"><span class="id" title="variable">f</span></a> <a class="idref" href="Checker.CumulativeCheck.html#a:187"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#2ccca3280733654024e33c2005ae2530"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum"><span class="id" title="definition">n_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Checker.CumulativeCheck.html#f:184"><span class="id" title="variable">f</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l2:186"><span class="id" title="variable">l2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">f</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hnin1</span> <span class="id" title="var">Hin2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsub</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">diff</span> &amp; <span class="id" title="var">Hperm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Sorting.Permutation.html#Permutation_map"><span class="id" title="lemma">Permutation_map</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hperm</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hperm_map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum_perm"><span class="id" title="lemma">n_sum_perm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hperm_map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hperm_map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Utility.html#SubList.sublist_one_of"><span class="id" title="lemma">sublist_one_of</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hperm</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_split"><span class="id" title="lemma">in_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hperm</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hdiff_split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdiff_split</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">diff_1</span> &amp; <span class="id" title="var">diff_2</span> &amp; <span class="id" title="var">Hdiff</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdiff</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum_app"><span class="id" title="lemma">n_sum_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum"><span class="id" title="definition">n_sum</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum_add"><span class="id" title="lemma">n_sum_add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="can_schedule_activity_with_profile_valid" class="idref" href="#can_schedule_activity_with_profile_valid"><span class="id" title="lemma">can_schedule_activity_with_profile_valid</span></a> <a id="constr:188" class="idref" href="#constr:188"><span class="id" title="binder">constr</span></a> <a id="sol:189" class="idref" href="#sol:189"><span class="id" title="binder">sol</span></a> <a id="bounds:190" class="idref" href="#bounds:190"><span class="id" title="binder">bounds</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Cumulative"><span class="id" title="definition">Cumulative</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constr:188"><span class="id" title="variable">constr</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:189"><span class="id" title="variable">sol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#sol:189"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constr:188"><span class="id" title="variable">constr</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:190"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="bound:191" class="idref" href="#bound:191"><span class="id" title="binder">bound</span></a> <a id="profile:192" class="idref" href="#profile:192"><span class="id" title="binder">profile</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:191"><span class="id" title="variable">bound</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:190"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_profile"><span class="id" title="definition">valid_profile</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constr:188"><span class="id" title="variable">constr</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:190"><span class="id" title="variable">bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#profile:192"><span class="id" title="variable">profile</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:191"><span class="id" title="variable">bound</span></a>) (<a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:191"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:191"><span class="id" title="variable">bound</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#can_schedule_activity_with_profile"><span class="id" title="definition">can_schedule_activity_with_profile</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:191"><span class="id" title="variable">bound</span></a> <a class="idref" href="Checker.CumulativeCheck.html#profile:192"><span class="id" title="variable">profile</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcumul</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">bound</span> <span class="id" title="var">profile</span> <span class="id" title="var">Hinbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hprofile_valid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#can_schedule_activity_with_profile"><span class="id" title="definition">can_schedule_activity_with_profile</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#N.to_nat"><span class="id" title="definition">N.to_nat</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a> <span class="id" title="var">bound</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">b_duration</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeUtil.html#RunOfN.exists_run_then_n_true"><span class="id" title="lemma">exists_run_then_n_true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_split"><span class="id" title="lemma">in_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinbounds</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">bounds_l</span> &amp; <span class="id" title="var">bounds_r</span> &amp; <span class="id" title="var">Hbounds</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bound_matching_activity"><span class="id" title="lemma">valid_bound_matching_activity</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">bounds_l</span> := <span class="id" title="var">bounds_l</span>) (<span class="id" title="var">bounds_r</span> := <span class="id" title="var">bounds_r</span>) (<span class="id" title="var">bound</span> := <span class="id" title="var">bound</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">exact</span> <span class="id" title="var">Hbounds</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">acts_l</span> &amp; <span class="id" title="var">act</span> &amp; <span class="id" title="var">acts_r</span> &amp; <span class="id" title="var">Hacts</span> &amp; <span class="id" title="var">Hvalid_ex</span> &amp; <span class="id" title="var">Hstart</span> &amp; <span class="id" title="var">Hbound_u</span> &amp; <span class="id" title="var">Hbound_p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.evaluate"><span class="id" title="definition">evaluate</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activity_start"><span class="id" title="projection">activity_start</span></a> <span class="id" title="var">act</span>) <span class="id" title="var">sol</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">start</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<span class="id" title="var">start</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a> <span class="id" title="var">bound</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#profile_to_active_list"><span class="id" title="definition">profile_to_active_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprofile_valid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprofile_len</span> <span class="id" title="var">Hprofile_valid</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#run_at_z_map"><span class="id" title="lemma">run_at_z_map</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">d</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N0"><span class="id" title="constructor">N0</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hprofile_len</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hprofile_len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">profile_value_at_t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">start</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">start</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a> <span class="id" title="var">bound</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Ht</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht'</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">b_duration</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Checker.CumulativeCheck.html#b_lb"><span class="id" title="projection">b_lb</span></a> <span class="id" title="var">bound</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#b_ub"><span class="id" title="projection">b_ub</span></a> <span class="id" title="var">bound</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> (<a class="idref" href="Checker.CumulativeCheck.html#b_p_time"><span class="id" title="projection">b_p_time</span></a> <span class="id" title="var">bound</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">as</span> <span class="id" title="var">Htbounds</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hprofile_valid</span> <span class="id" title="var">t</span> <span class="id" title="var">Htbounds</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Htbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Htusage</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htusage</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprofile_valid</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Htusage</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile_t"><span class="id" title="definition">resource_profile_t</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprofile_valid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <span class="id" title="keyword">constr</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#b39870dee55afcd85c6b795fb34de165"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a> <span class="id" title="var">bounds</span> <span class="id" title="var">t</span>)%<span class="id" title="var">N</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hcapbounds'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> <span class="id" title="var">Hprofile_valid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hprofile_valid</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">profile_value_at_t</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hprofile_valid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Bool.Bool.html#not_true_iff_false"><span class="id" title="lemma">not_true_iff_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcapbounds'</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#N.ltb_lt"><span class="id" title="lemma">N.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcapbounds'</span>; <span class="id" title="tactic">assert</span> (<a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a> <span class="id" title="var">bounds</span> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#2ccca3280733654024e33c2005ae2530"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <span class="id" title="keyword">constr</span>)%<span class="id" title="var">N</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hcapbounds</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hcapbounds'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#check_can_be_active"><span class="id" title="definition">check_can_be_active</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#mandatory_active"><span class="id" title="definition">mandatory_active</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hmand</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#N.leb_le"><span class="id" title="lemma">N.leb_le</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a> <span class="id" title="var">bounds</span> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#b_usage"><span class="id" title="projection">b_usage</span></a> <span class="id" title="var">bound</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#2ccca3280733654024e33c2005ae2530"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <span class="id" title="keyword">constr</span>)%<span class="id" title="var">N</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcumul</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a> <span class="id" title="var">bounds</span> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.CumulativeCheck.html#b_usage"><span class="id" title="projection">b_usage</span></a> <span class="id" title="var">bound</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#2ccca3280733654024e33c2005ae2530"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.usage_at_timepoint"><span class="id" title="definition">usage_at_timepoint</span></a> <span class="id" title="var">sol</span> <span class="id" title="var">t</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a> <span class="id" title="keyword">constr</span>))%<span class="id" title="var">N</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hcumul</span> <span class="id" title="var">Hcapbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ListEx.flat_map_option_as_filter_map"><span class="id" title="lemma">flat_map_option_as_filter_map</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">d</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N0"><span class="id" title="constructor">N0</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#filter_app"><span class="id" title="lemma">filter_app</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Utility.html#ListEx.filter_f_option"><span class="id" title="definition">filter_f_option</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hfilter</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Utility.html#ListEx.filter_f_option"><span class="id" title="definition">filter_f_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfilter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#activity_mandatory"><span class="id" title="definition">activity_mandatory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfilter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmand</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfilter</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#filter_app"><span class="id" title="lemma">filter_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Checker.Utility.html#ListEx.flat_map_option_as_filter_map"><span class="id" title="lemma">flat_map_option_as_filter_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.usage_at_timepoint"><span class="id" title="definition">usage_at_timepoint</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_fold_is_n_sum"><span class="id" title="lemma">n_fold_is_n_sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hacts</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#filter_app"><span class="id" title="lemma">filter_app</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.is_active_at"><span class="id" title="definition">is_active_at</span></a> <span class="id" title="var">sol</span> <span class="id" title="var">t</span> <span class="id" title="var">act</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hactive</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">Ht</span> <span class="id" title="var">Hactive</span> <span class="id" title="var">Heqstart</span> <span class="id" title="var">Hbound_p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hactive</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.is_active_at"><span class="id" title="definition">is_active_at</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqstart</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Bool.Bool.html#andb_false_iff"><span class="id" title="lemma">andb_false_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hl</span> | <span class="id" title="var">Hr</span>]; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Sorting.Permutation.html#Permutation_middle"><span class="id" title="lemma">Permutation_middle</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>; <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#filter_app"><span class="id" title="lemma">filter_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_sum_cons"><span class="id" title="lemma">n_sum_cons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_t_le_usage"><span class="id" title="lemma">bounds_mandatory_t_le_usage</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t</span> := <span class="id" title="var">t</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid_ex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.usage_at_timepoint"><span class="id" title="definition">usage_at_timepoint</span></a>, <a class="idref" href="Checker.CumulativeCheck.html#bounds_mandatory_usage_t"><span class="id" title="definition">bounds_mandatory_usage_t</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid_ex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.CumulativeUtil.html#NSum.n_fold_is_n_sum"><span class="id" title="lemma">n_fold_is_n_sum</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid_ex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="resource_profile_valid" class="idref" href="#resource_profile_valid"><span class="id" title="lemma">resource_profile_valid</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="capacity:193" class="idref" href="#capacity:193"><span class="id" title="binder">capacity</span></a> <a id="bounds:194" class="idref" href="#bounds:194"><span class="id" title="binder">bounds</span></a> <a id="profile:195" class="idref" href="#profile:195"><span class="id" title="binder">profile</span></a> <a id="t_min:196" class="idref" href="#t_min:196"><span class="id" title="binder">t_min</span></a> <a id="t_max:197" class="idref" href="#t_max:197"><span class="id" title="binder">t_max</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#profile:195"><span class="id" title="variable">profile</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile"><span class="id" title="definition">resource_profile</span></a> <a class="idref" href="Checker.CumulativeCheck.html#capacity:193"><span class="id" title="variable">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:194"><span class="id" title="variable">bounds</span></a> (<a class="idref" href="Checker.Utility.html#ZRange.range_rev"><span class="id" title="definition">range_rev</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_min:196"><span class="id" title="variable">t_min</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_max:197"><span class="id" title="variable">t_max</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#profile:195"><span class="id" title="variable">profile</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_profile"><span class="id" title="definition">valid_profile</span></a> <a class="idref" href="Checker.CumulativeCheck.html#capacity:193"><span class="id" title="variable">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:194"><span class="id" title="variable">bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#profile:195"><span class="id" title="variable">profile</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_min:196"><span class="id" title="variable">t_min</span></a> <a class="idref" href="Checker.CumulativeCheck.html#t_max:197"><span class="id" title="variable">t_max</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">capacity</span> <span class="id" title="var">bounds</span> <span class="id" title="var">profile</span> <span class="id" title="var">t_min</span> <span class="id" title="var">t_max</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hprofile</span> <span class="id" title="var">Hprofilennil</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.ZArith_dec.html#Z_gt_le_dec"><span class="id" title="definition">Z_gt_le_dec</span></a> <span class="id" title="var">t_min</span> <span class="id" title="var">t_max</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hgt</span> | <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">profile</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Utility.html#ZRange.range_rev"><span class="id" title="definition">range_rev</span></a>, <a class="idref" href="Checker.CumulativeCheck.html#valid_profile"><span class="id" title="definition">valid_profile</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<span class="id" title="var">t_max</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">t_min</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile"><span class="id" title="definition">resource_profile</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprofile</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Utility.html#ListEx.map_valid_spec"><span class="id" title="lemma">map_valid_spec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">d</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N0"><span class="id" title="constructor">N0</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hprofile</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprofile</span> <span class="id" title="var">Hsome</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hprofilennil</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.range_rev_is_rev_range"><span class="id" title="lemma">range_rev_is_rev_range</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprofile</span>, <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprofile</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprofile</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_rev"><span class="id" title="lemma">in_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">profile</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.length_range"><span class="id" title="lemma">length_range</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">t</span> (<a class="idref" href="Checker.Utility.html#ZRange.range"><span class="id" title="definition">range</span></a> <span class="id" title="var">t_min</span> <span class="id" title="var">t_max</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hintrange</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> -<span class="id" title="var">Ht</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Checker.Utility.html#ZRange.in_range"><span class="id" title="lemma">in_range</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsome</span> <span class="id" title="var">t</span> <span class="id" title="var">Hintrange</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Hintrange</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile_t"><span class="id" title="definition">resource_profile_t</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hprofilet</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">profile</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.nth_z_spec"><span class="id" title="lemma">nth_z_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Checker.Utility.html#ZRange.map_nth_len_lt"><span class="id" title="lemma">map_nth_len_lt</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">d</span> := 0).<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.length_range"><span class="id" title="lemma">length_range</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Utility.html#ListEx.option_map_default"><span class="id" title="definition">option_map_default</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.range_nth_spec"><span class="id" title="lemma">range_nth_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">t_min</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">t_min</span>))<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">t</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hprofilet</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Helper lemma for below. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="nil_rev" class="idref" href="#nil_rev"><span class="id" title="lemma">nil_rev</span></a> {<a id="A:198" class="idref" href="#A:198"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="l:199" class="idref" href="#l:199"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.CumulativeCheck.html#A:198"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:199"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Checker.CumulativeCheck.html#l:199"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#rev_inj"><span class="id" title="lemma">rev_inj</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Given a cumulative constraint, a solution for that constraint and a set of bounds corresponding to that constraint and satisfied by the solution, we should not be able to find a conflict. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="no_bound_conflict_for_solution" class="idref" href="#no_bound_conflict_for_solution"><span class="id" title="lemma">no_bound_conflict_for_solution</span></a> <a id="constraint:200" class="idref" href="#constraint:200"><span class="id" title="binder">constraint</span></a> <a id="assignment:201" class="idref" href="#assignment:201"><span class="id" title="binder">assignment</span></a> <a id="bounds:202" class="idref" href="#bounds:202"><span class="id" title="binder">bounds</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Cumulative"><span class="id" title="definition">Cumulative</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:200"><span class="id" title="variable">constraint</span></a> <a class="idref" href="Checker.CumulativeCheck.html#assignment:201"><span class="id" title="variable">assignment</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#valid_bounds"><span class="id" title="inductive">valid_bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#assignment:201"><span class="id" title="variable">assignment</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:200"><span class="id" title="variable">constraint</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.activities"><span class="id" title="projection">activities</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:202"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="bound:203" class="idref" href="#bound:203"><span class="id" title="binder">bound</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:203"><span class="id" title="variable">bound</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bounds:202"><span class="id" title="variable">bounds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#check_conflict_for_bound"><span class="id" title="definition">check_conflict_for_bound</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:200"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="Checker.CumulativeCheck.html#bounds:202"><span class="id" title="variable">bounds</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:203"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcumul</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">bound</span> <span class="id" title="var">Hinbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#check_conflict_for_bound"><span class="id" title="definition">check_conflict_for_bound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hvalid'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile"><span class="id" title="definition">resource_profile</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hprofile</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#no_profile_overflow_for_solution"><span class="id" title="lemma">no_profile_overflow_for_solution</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">assignment</span> := <span class="id" title="var">assignment</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hprofile</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_bounds_properties"><span class="id" title="lemma">valid_bounds_properties</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hvalid</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinbounds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.range_rev_is_rev_range"><span class="id" title="lemma">range_rev_is_rev_range</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.CumulativeCheck.html#nil_rev"><span class="id" title="lemma">nil_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.range_cons"><span class="id" title="lemma">range_cons</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">profile</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">profile</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hprofilennil</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">profile</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnl</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqprofile</span> <span class="id" title="var">n</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Bool.Bool.html#negb_false_iff"><span class="id" title="lemma">negb_false_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#can_schedule_activity_with_profile_valid"><span class="id" title="lemma">can_schedule_activity_with_profile_valid</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="keyword">constr</span> := <span class="id" title="var">constraint</span>) (<span class="id" title="var">sol</span> := <span class="id" title="var">assignment</span>) (<span class="id" title="var">bounds</span> := <span class="id" title="var">bounds</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">Hcumul</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">Hinbounds</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile_valid"><span class="id" title="lemma">resource_profile_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">profile</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">Hprofilennil</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="checker_cumulative" class="idref" href="#checker_cumulative"><span class="id" title="lemma">checker_cumulative</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="constraint:204" class="idref" href="#constraint:204"><span class="id" title="binder">constraint</span></a> <a id="fact:205" class="idref" href="#fact:205"><span class="id" title="binder">fact</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.CumulativeCheck.html#cumulative_checker"><span class="id" title="definition">cumulative_checker</span></a> <a class="idref" href="Checker.CumulativeCheck.html#fact:205"><span class="id" title="variable">fact</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:204"><span class="id" title="variable">constraint</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="assignment:206" class="idref" href="#assignment:206"><span class="id" title="binder">assignment</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Cumulative"><span class="id" title="definition">Cumulative</span></a> <a class="idref" href="Checker.CumulativeCheck.html#constraint:204"><span class="id" title="variable">constraint</span></a> <a class="idref" href="Checker.CumulativeCheck.html#assignment:206"><span class="id" title="variable">assignment</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ProofFacts.fact_valid"><span class="id" title="definition">fact_valid</span></a> <a class="idref" href="Checker.CumulativeCheck.html#assignment:206"><span class="id" title="variable">assignment</span></a> <a class="idref" href="Checker.CumulativeCheck.html#fact:205"><span class="id" title="variable">fact</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">constr</span> <span class="id" title="var">fact</span> <span class="id" title="var">Hchecked</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#cumulative_checker"><span class="id" title="definition">cumulative_checker</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hchecked</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#inferred_cumulative_activity_bounds"><span class="id" title="definition">inferred_cumulative_activity_bounds</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">bounds</span> <span class="id" title="var">prop_bound_opt</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sol</span> <span class="id" title="var">Hcumul</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#inferred_cumulative_activity_bounds_spec"><span class="id" title="lemma">inferred_cumulative_activity_bounds_spec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="keyword">constr</span> := <span class="id" title="keyword">constr</span>) (<span class="id" title="var">bounds</span> := <span class="id" title="var">bounds</span>) (<span class="id" title="var">prop_bound_opt</span> := <span class="id" title="var">prop_bound_opt</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> <span class="id" title="var">Hbounds</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#inferred_cumulative_activity_bounds_prop_bound_valid"><span class="id" title="lemma">inferred_cumulative_activity_bounds_prop_bound_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbounds</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hprop_bound</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="bound:207" class="idref" href="#bound:207"><span class="id" title="binder"><span id="bound:208" class="id">bound</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Checker.CumulativeCheck.html#bound:207"><span class="id" title="variable">bound</span></a> <span class="id" title="var">bounds</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Checker.CumulativeCheck.html#check_conflict_for_bound"><span class="id" title="definition">check_conflict_for_bound</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <span class="id" title="keyword">constr</span>) <span class="id" title="var">bounds</span> <a class="idref" href="Checker.CumulativeCheck.html#bound:207"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Checker.CumulativeCheck.html#check_time_conflict_horizon"><span class="id" title="definition">check_time_conflict_horizon</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <span class="id" title="keyword">constr</span>) <span class="id" title="var">bounds</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">prop_bound_opt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">prop_bound</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.CumulativeCheck.html#check_conflict_for_bound"><span class="id" title="definition">check_conflict_for_bound</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <span class="id" title="keyword">constr</span>) <span class="id" title="var">bounds</span> <span class="id" title="var">prop_bound</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hprop_cannot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">prop_bound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#valid_prop_bound"><span class="id" title="definition">valid_prop_bound</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprop_bound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#check_time_conflict_horizon"><span class="id" title="definition">check_time_conflict_horizon</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hprofile</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#existsb_exists"><span class="id" title="lemma">existsb_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hchecked</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hchecked</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#check_time_conflict_horizon"><span class="id" title="definition">check_time_conflict_horizon</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hprofile</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#existsb_exists"><span class="id" title="lemma">existsb_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hchecked</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hchecked</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hchecked</span> <span class="id" title="var">Hprop_bound</span> <span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">bound</span> &amp; <span class="id" title="var">Hinbounds</span> &amp; <span class="id" title="var">Hconflict</span>) | <span class="id" title="var">Hconflict</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">enough</span> (<a class="idref" href="Checker.CumulativeCheck.html#check_conflict_for_bound"><span class="id" title="definition">check_conflict_for_bound</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <span class="id" title="keyword">constr</span>) <span class="id" title="var">bounds</span> <span class="id" title="var">bound</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconflict</span>; <span class="id" title="tactic">discriminate</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#no_bound_conflict_for_solution"><span class="id" title="lemma">no_bound_conflict_for_solution</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">assignment</span> := <span class="id" title="var">sol</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">Hcumul</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">Hinbounds</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.CumulativeCheck.html#check_time_conflict_horizon"><span class="id" title="definition">check_time_conflict_horizon</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconflict</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.CumulativeCheck.html#bounds_times"><span class="id" title="definition">bounds_times</span></a> <span class="id" title="var">bounds</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t_min</span> <span class="id" title="var">t_max</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Htimes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.CumulativeCheck.html#resource_profile"><span class="id" title="definition">resource_profile</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hprofile</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="Checker.CumulativeCheck.html#resource_profile"><span class="id" title="definition">resource_profile</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.capacity"><span class="id" title="projection">capacity</span></a> <span class="id" title="keyword">constr</span>) <span class="id" title="var">bounds</span> (<a class="idref" href="Checker.Utility.html#ZRange.range"><span class="id" title="definition">range</span></a> <span class="id" title="var">t_min</span> <span class="id" title="var">t_max</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hprofile</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">contradiction</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#no_profile_overflow_for_solution"><span class="id" title="lemma">no_profile_overflow_for_solution</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">assignment</span> := <span class="id" title="var">sol</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Checker.Utility.html#ZRange.range_cons"><span class="id" title="lemma">range_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Checker.CumulativeCheck.html#bounds_times_le"><span class="id" title="lemma">bounds_times_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> <span class="id" title="var">Htimes</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string</span>.<br/>

<br/>
</div>

<div class="doc">
Uncomment the below for some tests to ensure the cumulative checker successfully checks some facts it should be able to check. 
</div>
<div class="code">

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
