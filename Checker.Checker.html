<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="./coqdocjs/resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="./coqdocjs/resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="./coqdocjs/resources/config.js"></script>
<script type="text/javascript" src="./coqdocjs/resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://redirect.tipten.nl/checker-project/">Project Page</a>
      <a href="./index.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Checker.Checker</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Deduction.html#"><span class="id" title="library">Checker.Deduction</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Checker.CumulativeCheck.html#"><span class="id" title="library">Checker.CumulativeCheck</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Checker.ConstraintProblem.html#"><span class="id" title="library">Checker.ConstraintProblem</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Checker.AlldifferentCheck.html#"><span class="id" title="library">Checker.AlldifferentCheck</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Utility.html#Maps"><span class="id" title="module">Utility.Maps</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Utility.html#Sets"><span class="id" title="module">Utility.Sets</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Strings.String.html#"><span class="id" title="library">Coq.Strings.String</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.NArith.html#"><span class="id" title="library">Coq.NArith.NArith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">Coq.ZArith.ZArith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Spec.html#"><span class="id" title="library">Checker.Spec</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions"><span class="id" title="module">Spec.ConstraintDefinitions</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Spec.html#Proofs"><span class="id" title="module">Spec.Proofs</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Checker.Spec.html#ProofFacts"><span class="id" title="module">Spec.ProofFacts</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">Coq.Lists.List.ListNotations</span></a>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="InferenceRule" class="idref" href="#InferenceRule"><span class="id" title="definition, inductive"><span id="InferenceRule_rect" class="id"><span id="InferenceRule_ind" class="id"><span id="InferenceRule_rec" class="id"><span id="InferenceRule_sind" class="id">InferenceRule</span></span></span></span></span></a> :=<br/>
| <a id="fact_equiv" class="idref" href="#fact_equiv"><span class="id" title="constructor">fact_equiv</span></a><br/>
| <a id="dom" class="idref" href="#dom"><span class="id" title="constructor">dom</span></a><br/>
| <a id="linear" class="idref" href="#linear"><span class="id" title="constructor">linear</span></a><br/>
| <a id="cumulative" class="idref" href="#cumulative"><span class="id" title="constructor">cumulative</span></a><br/>
| <a id="alldifferent" class="idref" href="#alldifferent"><span class="id" title="constructor">alldifferent</span></a><br/>
.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="IndexedInference" class="idref" href="#IndexedInference"><span class="id" title="record">IndexedInference</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="iinf_index" class="idref" href="#iinf_index"><span class="id" title="projection">iinf_index</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="iinf_fact" class="idref" href="#iinf_fact"><span class="id" title="projection">iinf_fact</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFacts.ProofFact</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="iinf_hint" class="idref" href="#iinf_hint"><span class="id" title="projection">iinf_hint</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="iinf_rule" class="idref" href="#iinf_rule"><span class="id" title="projection">iinf_rule</span></a> : <a class="idref" href="Checker.Checker.html#InferenceRule"><span class="id" title="inductive">InferenceRule</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="ProofStage" class="idref" href="#ProofStage"><span class="id" title="record">ProofStage</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="s_inferences" class="idref" href="#s_inferences"><span class="id" title="projection">s_inferences</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Checker.html#IndexedInference"><span class="id" title="record">IndexedInference</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="s_chain" class="idref" href="#s_chain"><span class="id" title="projection">s_chain</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="s_conclusion" class="idref" href="#s_conclusion"><span class="id" title="projection">s_conclusion</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFacts.ProofFact</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="s_conclusion_index" class="idref" href="#s_conclusion_index"><span class="id" title="projection">s_conclusion_index</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="CheckerErrorType" class="idref" href="#CheckerErrorType"><span class="id" title="definition, inductive"><span id="CheckerErrorType_rect" class="id"><span id="CheckerErrorType_ind" class="id"><span id="CheckerErrorType_rec" class="id"><span id="CheckerErrorType_sind" class="id">CheckerErrorType</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="invalid_inference" class="idref" href="#invalid_inference"><span class="id" title="constructor">invalid_inference</span></a> (<a id="id:15" class="idref" href="#id:15"><span class="id" title="binder">id</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>)<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;| <a id="invalid_deduction" class="idref" href="#invalid_deduction"><span class="id" title="constructor">invalid_deduction</span></a> (<a id="id:16" class="idref" href="#id:16"><span class="id" title="binder">id</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a id="failed_inferences:17" class="idref" href="#failed_inferences:17"><span class="id" title="binder">failed_inferences</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Deduction.html#FailedInference"><span class="id" title="record">FailedInference</span></a>))<br/>
&nbsp;&nbsp;| <a id="deduction_implies_not_false" class="idref" href="#deduction_implies_not_false"><span class="id" title="constructor">deduction_implies_not_false</span></a><br/>
&nbsp;&nbsp;| <a id="invalid_conclusion" class="idref" href="#invalid_conclusion"><span class="id" title="constructor">invalid_conclusion</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="CheckerError" class="idref" href="#CheckerError"><span class="id" title="definition">CheckerError</span></a> := <a class="idref" href="Checker.Spec.html#Proofs.CheckResult"><span class="id" title="inductive">CheckResult</span></a> <a class="idref" href="Checker.Checker.html#CheckerErrorType"><span class="id" title="inductive">CheckerErrorType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="HydratedInference" class="idref" href="#HydratedInference"><span class="id" title="record">HydratedInference</span></a> := {<br/>
&nbsp;&nbsp;<a id="hinf_index" class="idref" href="#hinf_index"><span class="id" title="projection">hinf_index</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> ;<br/>
&nbsp;&nbsp;<a id="hinf_fact" class="idref" href="#hinf_fact"><span class="id" title="projection">hinf_fact</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a> ;<br/>
&nbsp;&nbsp;<a id="hinf_hint" class="idref" href="#hinf_hint"><span class="id" title="projection">hinf_hint</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Constraint"><span class="id" title="inductive">Constraint</span></a> ;<br/>
&nbsp;&nbsp;<a id="hinf_rule" class="idref" href="#hinf_rule"><span class="id" title="projection">hinf_rule</span></a> : <a class="idref" href="Checker.Checker.html#InferenceRule"><span class="id" title="inductive">InferenceRule</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="HydratedProofStage" class="idref" href="#HydratedProofStage"><span class="id" title="record">HydratedProofStage</span></a> := {<br/>
&nbsp;&nbsp;<a id="hs_inferences" class="idref" href="#hs_inferences"><span class="id" title="projection">hs_inferences</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Checker.html#HydratedInference"><span class="id" title="record">HydratedInference</span></a> ;<br/>
&nbsp;&nbsp;<a id="hs_chain" class="idref" href="#hs_chain"><span class="id" title="projection">hs_chain</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a> ;<br/>
&nbsp;&nbsp;<a id="hs_conclusion" class="idref" href="#hs_conclusion"><span class="id" title="projection">hs_conclusion</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a> ;<br/>
&nbsp;&nbsp;<a id="hs_conclusion_index" class="idref" href="#hs_conclusion_index"><span class="id" title="projection">hs_conclusion_index</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="min_value" class="idref" href="#min_value"><span class="id" title="definition">min_value</span></a> (<a id="domain:28" class="idref" href="#domain:28"><span class="id" title="binder">domain</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#domain:28"><span class="id" title="variable">domain</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.interval"><span class="id" title="constructor">interval</span></a> <span class="id" title="var">lb</span> <span class="id" title="var">ub</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">lb</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.sparse_set"><span class="id" title="constructor">sparse_set</span></a> <span class="id" title="var">vals</span> =&gt; <a class="idref" href="Checker.Utility.html#Sets.sint.min_elt"><span class="id" title="definition">sint.min_elt</span></a> <span class="id" title="var">vals</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="min_value_lt" class="idref" href="#min_value_lt"><span class="id" title="lemma">min_value_lt</span></a> : <span class="id" title="keyword">forall</span> (<a id="domain:30" class="idref" href="#domain:30"><span class="id" title="binder">domain</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="min_val:31" class="idref" href="#min_val:31"><span class="id" title="binder">min_val</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="el:32" class="idref" href="#el:32"><span class="id" title="binder">el</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.in_int_set"><span class="id" title="definition">in_int_set</span></a> <a class="idref" href="Checker.Checker.html#domain:30"><span class="id" title="variable">domain</span></a> <a class="idref" href="Checker.Checker.html#el:32"><span class="id" title="variable">el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#min_value"><span class="id" title="definition">min_value</span></a> <a class="idref" href="Checker.Checker.html#domain:30"><span class="id" title="variable">domain</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Checker.Checker.html#min_val:31"><span class="id" title="variable">min_val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#el:32"><span class="id" title="variable">el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Checker.Checker.html#min_val:31"><span class="id" title="variable">min_val</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">domain</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">domain</span> ; <span class="id" title="tactic">simpl</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">min_val</span> <span class="id" title="var">el</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hmin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.ge_le_iff"><span class="id" title="lemma">Z.ge_le_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Utility.html#Sets.sint.min_elt_spec2"><span class="id" title="lemma">sint.min_elt_spec2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">y</span> := <span class="id" title="var">el</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hmin</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="min_value_exists" class="idref" href="#min_value_exists"><span class="id" title="lemma">min_value_exists</span></a> : <span class="id" title="keyword">forall</span> (<a id="domain:33" class="idref" href="#domain:33"><span class="id" title="binder">domain</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="witness:34" class="idref" href="#witness:34"><span class="id" title="binder">witness</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.in_int_set"><span class="id" title="definition">in_int_set</span></a> <a class="idref" href="Checker.Checker.html#domain:33"><span class="id" title="variable">domain</span></a> <a class="idref" href="Checker.Checker.html#witness:34"><span class="id" title="variable">witness</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:35" class="idref" href="#m:35"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="Checker.Checker.html#min_value"><span class="id" title="definition">min_value</span></a> <a class="idref" href="Checker.Checker.html#domain:33"><span class="id" title="variable">domain</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Checker.Checker.html#m:35"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">domain</span> <span class="id" title="var">witness</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#min_value"><span class="id" title="definition">min_value</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">domain</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">lower_bound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Utility.html#Sets.sint.min_elt"><span class="id" title="definition">sint.min_elt</span></a> <span class="id" title="var">vals</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Emin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Utility.html#Sets.sint.min_elt_spec3"><span class="id" title="lemma">sint.min_elt_spec3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Emin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Utility.html#Sets.sint.Empty"><span class="id" title="definition">sint.Empty</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Emin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Emin</span> <span class="id" title="var">witness</span> <span class="id" title="var">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="max_value" class="idref" href="#max_value"><span class="id" title="definition">max_value</span></a> (<a id="domain:36" class="idref" href="#domain:36"><span class="id" title="binder">domain</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#domain:36"><span class="id" title="variable">domain</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.interval"><span class="id" title="constructor">interval</span></a> <span class="id" title="var">lb</span> <span class="id" title="var">ub</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">ub</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.sparse_set"><span class="id" title="constructor">sparse_set</span></a> <span class="id" title="var">vals</span> =&gt; <a class="idref" href="Checker.Utility.html#Sets.sint.max_elt"><span class="id" title="definition">sint.max_elt</span></a> <span class="id" title="var">vals</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="max_value_lt" class="idref" href="#max_value_lt"><span class="id" title="lemma">max_value_lt</span></a> : <span class="id" title="keyword">forall</span> (<a id="domain:38" class="idref" href="#domain:38"><span class="id" title="binder">domain</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="max_val:39" class="idref" href="#max_val:39"><span class="id" title="binder">max_val</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="el:40" class="idref" href="#el:40"><span class="id" title="binder">el</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.in_int_set"><span class="id" title="definition">in_int_set</span></a> <a class="idref" href="Checker.Checker.html#domain:38"><span class="id" title="variable">domain</span></a> <a class="idref" href="Checker.Checker.html#el:40"><span class="id" title="variable">el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#max_value"><span class="id" title="definition">max_value</span></a> <a class="idref" href="Checker.Checker.html#domain:38"><span class="id" title="variable">domain</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Checker.Checker.html#max_val:39"><span class="id" title="variable">max_val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#el:40"><span class="id" title="variable">el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Checker.Checker.html#max_val:39"><span class="id" title="variable">max_val</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">domain</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">domain</span> ; <span class="id" title="tactic">simpl</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">max_val</span> <span class="id" title="var">el</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hmin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Utility.html#Sets.sint.max_elt_spec2"><span class="id" title="lemma">sint.max_elt_spec2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">y</span> := <span class="id" title="var">el</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hmin</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">max_val</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#1718f1bc306f7edd524650b393f464a3"><span class="id" title="notation">?=</span></a> <span class="id" title="var">el</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Ecmp</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Structures.OrdersEx.html#Z_as_OT.compare_eq"><span class="id" title="lemma">OrdersEx.Z_as_OT.compare_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ecmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ecmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Structures.OrdersEx.html#Z_as_OT.compare_gt_iff"><span class="id" title="lemma">OrdersEx.Z_as_OT.compare_gt_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ecmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Structures.OrdersEx.html#Z_as_OT.lt_le_incl"><span class="id" title="lemma">OrdersEx.Z_as_OT.lt_le_incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="max_value_exists" class="idref" href="#max_value_exists"><span class="id" title="lemma">max_value_exists</span></a> : <span class="id" title="keyword">forall</span> (<a id="domain:41" class="idref" href="#domain:41"><span class="id" title="binder">domain</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="witness:42" class="idref" href="#witness:42"><span class="id" title="binder">witness</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.in_int_set"><span class="id" title="definition">in_int_set</span></a> <a class="idref" href="Checker.Checker.html#domain:41"><span class="id" title="variable">domain</span></a> <a class="idref" href="Checker.Checker.html#witness:42"><span class="id" title="variable">witness</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:43" class="idref" href="#m:43"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="Checker.Checker.html#max_value"><span class="id" title="definition">max_value</span></a> <a class="idref" href="Checker.Checker.html#domain:41"><span class="id" title="variable">domain</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Checker.Checker.html#m:43"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">domain</span> <span class="id" title="var">witness</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#max_value"><span class="id" title="definition">max_value</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">domain</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">upper_bound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Utility.html#Sets.sint.max_elt"><span class="id" title="definition">sint.max_elt</span></a> <span class="id" title="var">vals</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Emin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Utility.html#Sets.sint.max_elt_spec3"><span class="id" title="lemma">sint.max_elt_spec3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Emin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Utility.html#Sets.sint.Empty"><span class="id" title="definition">sint.Empty</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Emin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Emin</span> <span class="id" title="var">witness</span> <span class="id" title="var">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="validate_set" class="idref" href="#validate_set"><span class="id" title="definition">validate_set</span></a> (<a id="domain:44" class="idref" href="#domain:44"><span class="id" title="binder">domain</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="atom:45" class="idref" href="#atom:45"><span class="id" title="binder">atom</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.Atomic"><span class="id" title="record">Atomic</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#atom:45"><span class="id" title="variable">atom</span></a>.(<a class="idref" href="Checker.Spec.html#ProofFacts.atm_cmp"><span class="id" title="projection">atm_cmp</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ProofFacts.greater_equal"><span class="id" title="constructor">greater_equal</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#min_value"><span class="id" title="definition">min_value</span></a> <a class="idref" href="Checker.Checker.html#domain:44"><span class="id" title="variable">domain</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">min_val</span> =&gt; <span class="id" title="var">min_val</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#a1c27bbd9f48118f287c317de583e02e"><span class="id" title="notation">&gt;=?</span></a> <a class="idref" href="Checker.Checker.html#atom:45"><span class="id" title="variable">atom</span></a>.(<a class="idref" href="Checker.Spec.html#ProofFacts.atm_val"><span class="id" title="projection">atm_val</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ProofFacts.less_equal"><span class="id" title="constructor">less_equal</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#max_value"><span class="id" title="definition">max_value</span></a> <a class="idref" href="Checker.Checker.html#domain:44"><span class="id" title="variable">domain</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">max_val</span> =&gt; <span class="id" title="var">max_val</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#90a0b0fc12252358f48538aa18bc4b8e"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="Checker.Checker.html#atom:45"><span class="id" title="variable">atom</span></a>.(<a class="idref" href="Checker.Spec.html#ProofFacts.atm_val"><span class="id" title="projection">atm_val</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ProofFacts.equal"><span class="id" title="constructor">equal</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#min_value"><span class="id" title="definition">min_value</span></a> <a class="idref" href="Checker.Checker.html#domain:44"><span class="id" title="variable">domain</span></a>, <a class="idref" href="Checker.Checker.html#max_value"><span class="id" title="definition">max_value</span></a> <a class="idref" href="Checker.Checker.html#domain:44"><span class="id" title="variable">domain</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">min_val</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">max_val</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">min_val</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <a class="idref" href="Checker.Checker.html#atom:45"><span class="id" title="variable">atom</span></a>.(<a class="idref" href="Checker.Spec.html#ProofFacts.atm_val"><span class="id" title="projection">atm_val</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">max_val</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <a class="idref" href="Checker.Checker.html#atom:45"><span class="id" title="variable">atom</span></a>.(<a class="idref" href="Checker.Spec.html#ProofFacts.atm_val"><span class="id" title="projection">atm_val</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ProofFacts.not_equal"><span class="id" title="constructor">not_equal</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#domain:44"><span class="id" title="variable">domain</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.interval"><span class="id" title="constructor">interval</span></a> <span class="id" title="var">lb</span> <span class="id" title="var">ub</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><span class="id" title="var">lb</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#0f6d3b46a03d1336a5ac68936077dc02"><span class="id" title="notation">&gt;?</span></a> <a class="idref" href="Checker.Checker.html#atom:45"><span class="id" title="variable">atom</span></a>.(<a class="idref" href="Checker.Spec.html#ProofFacts.atm_val"><span class="id" title="projection">atm_val</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><span class="id" title="var">ub</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="Checker.Checker.html#atom:45"><span class="id" title="variable">atom</span></a>.(<a class="idref" href="Checker.Spec.html#ProofFacts.atm_val"><span class="id" title="projection">atm_val</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.sparse_set"><span class="id" title="constructor">sparse_set</span></a> <span class="id" title="var">vals</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Checker.Utility.html#Sets.sint.mem"><span class="id" title="definition">sint.mem</span></a> <a class="idref" href="Checker.Checker.html#atom:45"><span class="id" title="variable">atom</span></a>.(<a class="idref" href="Checker.Spec.html#ProofFacts.atm_val"><span class="id" title="projection">atm_val</span></a>) <span class="id" title="var">vals</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="validate_set_if_holds" class="idref" href="#validate_set_if_holds"><span class="id" title="lemma">validate_set_if_holds</span></a> : <span class="id" title="keyword">forall</span> (<a id="domain:47" class="idref" href="#domain:47"><span class="id" title="binder">domain</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="atom:48" class="idref" href="#atom:48"><span class="id" title="binder">atom</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.Atomic"><span class="id" title="record">Atomic</span></a>) (<a id="el:49" class="idref" href="#el:49"><span class="id" title="binder">el</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.in_int_set"><span class="id" title="definition">in_int_set</span></a> <a class="idref" href="Checker.Checker.html#domain:47"><span class="id" title="variable">domain</span></a> <a class="idref" href="Checker.Checker.html#el:49"><span class="id" title="variable">el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#validate_set"><span class="id" title="definition">validate_set</span></a> <a class="idref" href="Checker.Checker.html#domain:47"><span class="id" title="variable">domain</span></a> <a class="idref" href="Checker.Checker.html#atom:48"><span class="id" title="variable">atom</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ProofFacts.atomic_holds"><span class="id" title="definition">atomic_holds</span></a> <a class="idref" href="Checker.Checker.html#el:49"><span class="id" title="variable">el</span></a> <a class="idref" href="Checker.Checker.html#atom:48"><span class="id" title="variable">atom</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">domain</span> <span class="id" title="var">atom</span> <span class="id" title="var">el</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ProofFacts.atomic_holds"><span class="id" title="definition">atomic_holds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">atom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cmp</span> <span class="id" title="var">val</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Checker.Checker.html#max_value_exists"><span class="id" title="lemma">max_value_exists</span></a> <span class="id" title="var">domain</span> <span class="id" title="var">el</span> <span class="id" title="var">Hin</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmax</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ub</span> <span class="id" title="var">Emax</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Checker.Checker.html#min_value_exists"><span class="id" title="lemma">min_value_exists</span></a> <span class="id" title="var">domain</span> <span class="id" title="var">el</span> <span class="id" title="var">Hin</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lb</span> <span class="id" title="var">Emin</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cmp</span> ;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span> ; <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#validate_set"><span class="id" title="definition">validate_set</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span> ;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span> ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span> ;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Structures.OrdersEx.html#Z_as_OT.le_trans"><span class="id" title="lemma">OrdersEx.Z_as_OT.le_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">ub</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Checker.html#max_value_lt"><span class="id" title="lemma">max_value_lt</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">domain</span> := <span class="id" title="var">domain</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Emax</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.Zorder.html#Zge_trans"><span class="id" title="lemma">Zge_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">lb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Checker.html#min_value_lt"><span class="id" title="lemma">min_value_lt</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">domain</span> := <span class="id" title="var">domain</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Emin</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.geb_ge"><span class="id" title="lemma">Z.geb_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Emax</span>, <span class="id" title="var">Emin</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#andb_prop"><span class="id" title="lemma">andb_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">El</span> <span class="id" title="var">Eu</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.eqb_eq"><span class="id" title="lemma">Z.eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">El</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.eqb_eq"><span class="id" title="lemma">Z.eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Checker.html#max_value_lt"><span class="id" title="lemma">max_value_lt</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">domain</span> := <span class="id" title="var">domain</span>) (<span class="id" title="var">el</span> := <span class="id" title="var">el</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Emax</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Checker.html#min_value_lt"><span class="id" title="lemma">min_value_lt</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">domain</span> := <span class="id" title="var">domain</span>) (<span class="id" title="var">el</span> := <span class="id" title="var">el</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Emin</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">El</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Emin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eu</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Emax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.ge_le"><span class="id" title="lemma">Z.ge_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Emin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.le_antisymm"><span class="id" title="lemma">Z.le_antisymm</span></a> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.in_int_set"><span class="id" title="definition">in_int_set</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">domain</span> ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Emax</span> ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Emin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Bool.Bool.html#orb_prop"><span class="id" title="lemma">orb_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvalid</span>|<span class="id" title="var">Hvalid</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.gtb_gt"><span class="id" title="lemma">Z.gtb_gt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlb</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.gt_lt"><span class="id" title="lemma">Z.gt_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Structures.OrdersEx.html#Z_as_OT.lt_neq"><span class="id" title="lemma">OrdersEx.Z_as_OT.lt_neq</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.lt_le_trans"><span class="id" title="lemma">Z.lt_le_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">lower_bound</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.ltb_lt"><span class="id" title="lemma">Z.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hub</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Structures.OrdersEx.html#Z_as_OT.lt_neq"><span class="id" title="lemma">OrdersEx.Z_as_OT.lt_neq</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.ZArith.BinInt.html#Z.le_lt_trans"><span class="id" title="lemma">Z.le_lt_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">upper_bound</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Utility.html#Sets.sint_prps.FM.not_mem_iff"><span class="id" title="lemma">sint_prps.FM.not_mem_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="validate_domain" class="idref" href="#validate_domain"><span class="id" title="definition">validate_domain</span></a> (<a id="csp_domains:50" class="idref" href="#csp_domains:50"><span class="id" title="binder">csp_domains</span></a> : <a class="idref" href="Checker.Utility.html#Maps.smap.t"><span class="id" title="definition">smap.t</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="fact:51" class="idref" href="#fact:51"><span class="id" title="binder">fact</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Spec.html#ProofFacts.i_consequent"><span class="id" title="projection">i_consequent</span></a> <a class="idref" href="Checker.Checker.html#fact:51"><span class="id" title="variable">fact</span></a>, <a class="idref" href="Checker.Spec.html#ProofFacts.i_premises"><span class="id" title="projection">i_premises</span></a> <a class="idref" href="Checker.Checker.html#fact:51"><span class="id" title="variable">fact</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ident</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">atom</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Utility.html#Maps.smap.find"><span class="id" title="definition">smap.find</span></a> <span class="id" title="var">ident</span> <a class="idref" href="Checker.Checker.html#csp_domains:50"><span class="id" title="variable">csp_domains</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">domain</span> =&gt; <a class="idref" href="Checker.Checker.html#validate_set"><span class="id" title="definition">validate_set</span></a> <span class="id" title="var">domain</span> <span class="id" title="var">atom</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="validate_if_holds" class="idref" href="#validate_if_holds"><span class="id" title="lemma">validate_if_holds</span></a> : <span class="id" title="keyword">forall</span> (<a id="csp_domains:52" class="idref" href="#csp_domains:52"><span class="id" title="binder">csp_domains</span></a> : <a class="idref" href="Checker.Utility.html#Maps.smap.t"><span class="id" title="definition">smap.t</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="fact:53" class="idref" href="#fact:53"><span class="id" title="binder">fact</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a>) (<a id="sol:54" class="idref" href="#sol:54"><span class="id" title="binder">sol</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#validate_domain"><span class="id" title="definition">validate_domain</span></a> <a class="idref" href="Checker.Checker.html#csp_domains:52"><span class="id" title="variable">csp_domains</span></a> <a class="idref" href="Checker.Checker.html#fact:53"><span class="id" title="variable">fact</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.satisfies_domains"><span class="id" title="definition">satisfies_domains</span></a> <a class="idref" href="Checker.Checker.html#csp_domains:52"><span class="id" title="variable">csp_domains</span></a> <a class="idref" href="Checker.Checker.html#sol:54"><span class="id" title="variable">sol</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ProofFacts.fact_valid"><span class="id" title="definition">fact_valid</span></a> <a class="idref" href="Checker.Checker.html#sol:54"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.Checker.html#fact:53"><span class="id" title="variable">fact</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">csp_domains</span> <span class="id" title="var">fact</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">csp_domains</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">fact</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">premises</span> <span class="id" title="var">conseq</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ProofFacts.fact_valid"><span class="id" title="definition">fact_valid</span></a>, <a class="idref" href="Checker.Checker.html#validate_domain"><span class="id" title="definition">validate_domain</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">csp_domains</span> <span class="id" title="var">sol</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">Hsat</span> <span class="id" title="var">Hvalid_atoms</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">conseq</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">ident</span>, <span class="id" title="var">atom</span>)|] ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">premises</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">F</span>] ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Utility.html#Maps.smap.find"><span class="id" title="definition">smap.find</span></a> <span class="id" title="var">ident</span> <span class="id" title="var">csp_domains</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">dom</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Emap</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ProofFacts.bound_atomic_holds"><span class="id" title="definition">bound_atomic_holds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Checker.html#validate_set_if_holds"><span class="id" title="lemma">validate_set_if_holds</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">domain</span> := <span class="id" title="var">dom</span>) ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.satisfies_domains"><span class="id" title="definition">satisfies_domains</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsat</span> <span class="id" title="var">ident</span> <span class="id" title="var">dom</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsat</span>, <a class="idref" href="Checker.Utility.html#Maps.smap_prps.find_2"><span class="id" title="lemma">smap_prps.find_2</span></a>, <span class="id" title="var">Emap</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="validate_inference" class="idref" href="#validate_inference"><span class="id" title="definition">validate_inference</span></a> (<a id="csp_domains:55" class="idref" href="#csp_domains:55"><span class="id" title="binder">csp_domains</span></a> : <a class="idref" href="Checker.Utility.html#Maps.smap.t"><span class="id" title="definition">smap.t</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="fact:56" class="idref" href="#fact:56"><span class="id" title="binder">fact</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a>) (<a id="hint:57" class="idref" href="#hint:57"><span class="id" title="binder">hint</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Constraint"><span class="id" title="inductive">Constraint</span></a>) (<a id="rule:58" class="idref" href="#rule:58"><span class="id" title="binder">rule</span></a> : <a class="idref" href="Checker.Checker.html#InferenceRule"><span class="id" title="inductive">InferenceRule</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#rule:58"><span class="id" title="variable">rule</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Checker.html#fact_equiv"><span class="id" title="constructor">fact_equiv</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#hint:57"><span class="id" title="variable">hint</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Checker.Spec.html#ConstraintDefinitions.fact_c"><span class="id" title="constructor">fact_c</span></a> <span class="id" title="var">ref_fact</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> =&gt; <a class="idref" href="Checker.Deduction.html#fact_implies_fact"><span class="id" title="definition">Deduction.fact_implies_fact</span></a> <span class="id" title="var">ref_fact</span> <a class="idref" href="Checker.Checker.html#fact:56"><span class="id" title="variable">fact</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Checker.html#dom"><span class="id" title="constructor">dom</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#validate_domain"><span class="id" title="definition">validate_domain</span></a> <a class="idref" href="Checker.Checker.html#csp_domains:55"><span class="id" title="variable">csp_domains</span></a> <a class="idref" href="Checker.Checker.html#fact:56"><span class="id" title="variable">fact</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Checker.html#cumulative"><span class="id" title="constructor">cumulative</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#hint:57"><span class="id" title="variable">hint</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Checker.Spec.html#ConstraintDefinitions.cumulative_c"><span class="id" title="constructor">cumulative_c</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> =&gt; <a class="idref" href="Checker.CumulativeCheck.html#cumulative_checker"><span class="id" title="definition">cumulative_checker</span></a> <a class="idref" href="Checker.Checker.html#fact:56"><span class="id" title="variable">fact</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Checker.html#linear"><span class="id" title="constructor">linear</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#hint:57"><span class="id" title="variable">hint</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Checker.Spec.html#ConstraintDefinitions.linear_leq"><span class="id" title="constructor">linear_leq</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> =&gt; <a class="idref" href="Checker.Linear.html#linear_checker"><span class="id" title="definition">Linear.linear_checker</span></a> <a class="idref" href="Checker.Checker.html#fact:56"><span class="id" title="variable">fact</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Checker.Spec.html#ConstraintDefinitions.linear_eq"><span class="id" title="constructor">linear_eq</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> =&gt; <a class="idref" href="Checker.Linear.html#linear_eq_checker"><span class="id" title="definition">Linear.linear_eq_checker</span></a> <a class="idref" href="Checker.Checker.html#fact:56"><span class="id" title="variable">fact</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Checker.html#alldifferent"><span class="id" title="constructor">alldifferent</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#hint:57"><span class="id" title="variable">hint</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Checker.Spec.html#ConstraintDefinitions.alldifferent_c"><span class="id" title="constructor">alldifferent_c</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> =&gt; <a class="idref" href="Checker.AlldifferentCheck.html#alldifferent_checker"><span class="id" title="definition">alldifferent_checker</span></a> <a class="idref" href="Checker.Checker.html#fact:56"><span class="id" title="variable">fact</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="validate_inference_soundness" class="idref" href="#validate_inference_soundness"><span class="id" title="lemma">validate_inference_soundness</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="doms:64" class="idref" href="#doms:64"><span class="id" title="binder">doms</span></a> : <a class="idref" href="Checker.Utility.html#Maps.smap.t"><span class="id" title="definition">smap.t</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="fact:65" class="idref" href="#fact:65"><span class="id" title="binder">fact</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a>) (<a id="hint:66" class="idref" href="#hint:66"><span class="id" title="binder">hint</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Constraint"><span class="id" title="inductive">Constraint</span></a>) (<a id="rule:67" class="idref" href="#rule:67"><span class="id" title="binder">rule</span></a> : <a class="idref" href="Checker.Checker.html#InferenceRule"><span class="id" title="inductive">InferenceRule</span></a>) (<a id="sol:68" class="idref" href="#sol:68"><span class="id" title="binder">sol</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="c:69" class="idref" href="#c:69"><span class="id" title="binder">c</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Constraint"><span class="id" title="inductive">Constraint</span></a>), <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Checker.Checker.html#c:69"><span class="id" title="variable">c</span></a> <a class="idref" href="Checker.Checker.html#hint:66"><span class="id" title="variable">hint</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.satisfies_constraint"><span class="id" title="definition">satisfies_constraint</span></a> <a class="idref" href="Checker.Checker.html#c:69"><span class="id" title="variable">c</span></a> <a class="idref" href="Checker.Checker.html#sol:68"><span class="id" title="variable">sol</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.satisfies_domains"><span class="id" title="definition">satisfies_domains</span></a> <a class="idref" href="Checker.Checker.html#doms:64"><span class="id" title="variable">doms</span></a> <a class="idref" href="Checker.Checker.html#sol:68"><span class="id" title="variable">sol</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#validate_inference"><span class="id" title="definition">validate_inference</span></a> <a class="idref" href="Checker.Checker.html#doms:64"><span class="id" title="variable">doms</span></a> <a class="idref" href="Checker.Checker.html#fact:65"><span class="id" title="variable">fact</span></a> <a class="idref" href="Checker.Checker.html#hint:66"><span class="id" title="variable">hint</span></a> <a class="idref" href="Checker.Checker.html#rule:67"><span class="id" title="variable">rule</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ProofFacts.fact_valid"><span class="id" title="definition">fact_valid</span></a> <a class="idref" href="Checker.Checker.html#sol:68"><span class="id" title="variable">sol</span></a> <a class="idref" href="Checker.Checker.html#fact:65"><span class="id" title="variable">fact</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">doms</span> <span class="id" title="var">fact</span> <span class="id" title="var">hint</span> <span class="id" title="var">rule</span> <span class="id" title="var">sol</span> <span class="id" title="var">Hsat</span> <span class="id" title="var">Hdoms</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#validate_inference"><span class="id" title="definition">validate_inference</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">rule</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">hint</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> [|<span class="id" title="var">c0</span> <span class="id" title="var">l</span>]] <span class="id" title="var">eqn</span>:<span class="id" title="var">Ehint</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Ec</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Deduction.html#fact_implies_fact_entails"><span class="id" title="lemma">Deduction.fact_implies_fact_entails</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">stronger</span> := <span class="id" title="var">constraint</span>) (<span class="id" title="var">weaker</span> := <span class="id" title="var">fact</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsat</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.fact_c"><span class="id" title="constructor">fact_c</span></a> <span class="id" title="var">constraint</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Checker.html#validate_if_holds"><span class="id" title="lemma">validate_if_holds</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">csp_domains</span> := <span class="id" title="var">doms</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">hint</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> [|<span class="id" title="var">c0</span> <span class="id" title="var">l</span>]] <span class="id" title="var">eqn</span>:<span class="id" title="var">Ehint</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Ec</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Bool.Bool.html#Is_true_eq_left"><span class="id" title="lemma">Is_true_eq_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Linear.html#linear_checker_soundness"><span class="id" title="lemma">Linear.linear_checker_soundness</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">c</span> := <span class="id" title="var">constraint</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsat</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.linear_leq"><span class="id" title="constructor">linear_leq</span></a> <span class="id" title="var">constraint</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Linear.html#linear_eq_checker_soundness"><span class="id" title="lemma">Linear.linear_eq_checker_soundness</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">c</span> := <span class="id" title="var">constraint</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsat</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.linear_eq"><span class="id" title="constructor">linear_eq</span></a> <span class="id" title="var">constraint</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">hint</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> [|<span class="id" title="var">c0</span> <span class="id" title="var">l</span>]] <span class="id" title="var">eqn</span>:<span class="id" title="var">Ehint</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Ec</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.CumulativeCheck.html#checker_cumulative"><span class="id" title="lemma">checker_cumulative</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">constraint</span> := <span class="id" title="var">constraint</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsat</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.cumulative_c"><span class="id" title="constructor">cumulative_c</span></a> <span class="id" title="var">constraint</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">hint</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> [|<span class="id" title="var">c0</span> <span class="id" title="var">l</span>]] <span class="id" title="var">eqn</span>:<span class="id" title="var">Ehint</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hc</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.AlldifferentCheck.html#checker_alldifferent"><span class="id" title="lemma">checker_alldifferent</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="keyword">constr</span> := <span class="id" title="var">constraint</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsat</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.alldifferent_c"><span class="id" title="constructor">alldifferent_c</span></a> <span class="id" title="var">constraint</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="StageResult" class="idref" href="#StageResult"><span class="id" title="definition, inductive"><span id="StageResult_rect" class="id"><span id="StageResult_ind" class="id"><span id="StageResult_rec" class="id"><span id="StageResult_sind" class="id">StageResult</span></span></span></span></span></a> :=<br/>
&nbsp;&nbsp;| <a id="valid_single_stage" class="idref" href="#valid_single_stage"><span class="id" title="constructor">valid_single_stage</span></a><br/>
&nbsp;&nbsp;| <a id="invalid_single_stage" class="idref" href="#invalid_single_stage"><span class="id" title="constructor">invalid_single_stage</span></a> (<a id="e:72" class="idref" href="#e:72"><span class="id" title="binder">e</span></a> : <a class="idref" href="Checker.Checker.html#CheckerErrorType"><span class="id" title="inductive">CheckerErrorType</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="validate_nogood" class="idref" href="#validate_nogood"><span class="id" title="definition">validate_nogood</span></a> (<a id="id:73" class="idref" href="#id:73"><span class="id" title="binder">id</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a id="fact:74" class="idref" href="#fact:74"><span class="id" title="binder">fact</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a>) (<a id="chain:75" class="idref" href="#chain:75"><span class="id" title="binder">chain</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a>) : <a class="idref" href="Checker.Checker.html#StageResult"><span class="id" title="inductive">StageResult</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="Checker.Spec.html#ProofFacts.i_consequent"><span class="id" title="projection">i_consequent</span></a> <a class="idref" href="Checker.Checker.html#fact:74"><span class="id" title="variable">fact</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Checker.Deduction.html#check_deduct"><span class="id" title="definition">check_deduct</span></a> <a class="idref" href="Checker.Checker.html#fact:74"><span class="id" title="variable">fact</span></a>.(<a class="idref" href="Checker.Spec.html#ProofFacts.i_premises"><span class="id" title="projection">i_premises</span></a>) <a class="idref" href="Checker.Checker.html#chain:75"><span class="id" title="variable">chain</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Checker.Deduction.html#deduced"><span class="id" title="constructor">deduced</span></a> =&gt; <a class="idref" href="Checker.Checker.html#valid_single_stage"><span class="id" title="constructor">valid_single_stage</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Checker.Deduction.html#inconsistent_premises"><span class="id" title="constructor">inconsistent_premises</span></a> =&gt; <a class="idref" href="Checker.Checker.html#invalid_single_stage"><span class="id" title="constructor">invalid_single_stage</span></a> (<a class="idref" href="Checker.Checker.html#invalid_deduction"><span class="id" title="constructor">invalid_deduction</span></a> <a class="idref" href="Checker.Checker.html#id:73"><span class="id" title="variable">id</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Checker.Deduction.html#failed"><span class="id" title="constructor">failed</span></a> <span class="id" title="var">failed_inferences</span> =&gt; <a class="idref" href="Checker.Checker.html#invalid_single_stage"><span class="id" title="constructor">invalid_single_stage</span></a> (<a class="idref" href="Checker.Checker.html#invalid_deduction"><span class="id" title="constructor">invalid_deduction</span></a> <a class="idref" href="Checker.Checker.html#id:73"><span class="id" title="variable">id</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">failed_inferences</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Checker.Checker.html#invalid_single_stage"><span class="id" title="constructor">invalid_single_stage</span></a> <a class="idref" href="Checker.Checker.html#deduction_implies_not_false"><span class="id" title="constructor">deduction_implies_not_false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="validate_inference_within_stage" class="idref" href="#validate_inference_within_stage"><span class="id" title="definition">validate_inference_within_stage</span></a> (<a id="doms:76" class="idref" href="#doms:76"><span class="id" title="binder">doms</span></a> : <a class="idref" href="Checker.Utility.html#Maps.smap.t"><span class="id" title="definition">smap.t</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="step:77" class="idref" href="#step:77"><span class="id" title="binder">step</span></a> : <a class="idref" href="Checker.Checker.html#HydratedInference"><span class="id" title="record">HydratedInference</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#validate_inference"><span class="id" title="definition">validate_inference</span></a> <a class="idref" href="Checker.Checker.html#doms:76"><span class="id" title="variable">doms</span></a> <a class="idref" href="Checker.Checker.html#step:77"><span class="id" title="variable">step</span></a>.(<a class="idref" href="Checker.Checker.html#hinf_fact"><span class="id" title="projection">hinf_fact</span></a>) <a class="idref" href="Checker.Checker.html#step:77"><span class="id" title="variable">step</span></a>.(<a class="idref" href="Checker.Checker.html#hinf_hint"><span class="id" title="projection">hinf_hint</span></a>) <a class="idref" href="Checker.Checker.html#step:77"><span class="id" title="variable">step</span></a>.(<a class="idref" href="Checker.Checker.html#hinf_rule"><span class="id" title="projection">hinf_rule</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="validate_inferences" class="idref" href="#validate_inferences"><span class="id" title="definition">validate_inferences</span></a> (<a id="doms:78" class="idref" href="#doms:78"><span class="id" title="binder">doms</span></a> : <a class="idref" href="Checker.Utility.html#Maps.smap.t"><span class="id" title="definition">smap.t</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="inferences:79" class="idref" href="#inferences:79"><span class="id" title="binder">inferences</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Checker.html#HydratedInference"><span class="id" title="record">HydratedInference</span></a>) : <a class="idref" href="Checker.Checker.html#StageResult"><span class="id" title="inductive">StageResult</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#inferences:79"><span class="id" title="variable">inferences</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="Checker.Checker.html#valid_single_stage"><span class="id" title="constructor">valid_single_stage</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">inf</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">tail</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Checker.Checker.html#validate_inference_within_stage"><span class="id" title="definition">validate_inference_within_stage</span></a> <a class="idref" href="Checker.Checker.html#doms:78"><span class="id" title="variable">doms</span></a> <span class="id" title="var">inf</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="Checker.Checker.html#validate_inferences:80"><span class="id" title="definition">validate_inferences</span></a> <a class="idref" href="Checker.Checker.html#doms:78"><span class="id" title="variable">doms</span></a> <span class="id" title="var">tail</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Checker.Checker.html#invalid_single_stage"><span class="id" title="constructor">invalid_single_stage</span></a> (<a class="idref" href="Checker.Checker.html#invalid_inference"><span class="id" title="constructor">invalid_inference</span></a> <span class="id" title="var">inf</span>.(<a class="idref" href="Checker.Checker.html#hinf_index"><span class="id" title="projection">hinf_index</span></a>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="validate_inferences_forall" class="idref" href="#validate_inferences_forall"><span class="id" title="lemma">validate_inferences_forall</span></a> : <span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;(<a id="doms:82" class="idref" href="#doms:82"><span class="id" title="binder">doms</span></a> : <a class="idref" href="Checker.Utility.html#Maps.smap.t"><span class="id" title="definition">smap.t</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="inferences:83" class="idref" href="#inferences:83"><span class="id" title="binder">inferences</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Checker.html#HydratedInference"><span class="id" title="record">HydratedInference</span></a>) ,<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#validate_inferences"><span class="id" title="definition">validate_inferences</span></a> <a class="idref" href="Checker.Checker.html#doms:82"><span class="id" title="variable">doms</span></a> <a class="idref" href="Checker.Checker.html#inferences:83"><span class="id" title="variable">inferences</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.Checker.html#valid_single_stage"><span class="id" title="constructor">valid_single_stage</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="inf:84" class="idref" href="#inf:84"><span class="id" title="binder">inf</span></a> =&gt; <a class="idref" href="Checker.Checker.html#validate_inference_within_stage"><span class="id" title="definition">validate_inference_within_stage</span></a> <a class="idref" href="Checker.Checker.html#doms:82"><span class="id" title="variable">doms</span></a> <a class="idref" href="Checker.Checker.html#inf:84"><span class="id" title="variable">inf</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="Checker.Checker.html#inferences:83"><span class="id" title="variable">inferences</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">doms</span> <span class="id" title="var">inferences</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">inferences</span> ; <span class="id" title="tactic">simpl</span> ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hin'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin'</span> ; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Checker.html#validate_inference_within_stage"><span class="id" title="definition">validate_inference_within_stage</span></a> <span class="id" title="var">doms</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Estage</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Estage</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHinferences</span> ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="validate_proof_stage" class="idref" href="#validate_proof_stage"><span class="id" title="definition">validate_proof_stage</span></a> (<a id="doms:85" class="idref" href="#doms:85"><span class="id" title="binder">doms</span></a> : <a class="idref" href="Checker.Utility.html#Maps.smap.t"><span class="id" title="definition">smap.t</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="stage:86" class="idref" href="#stage:86"><span class="id" title="binder">stage</span></a> : <a class="idref" href="Checker.Checker.html#HydratedProofStage"><span class="id" title="record">HydratedProofStage</span></a>) : <a class="idref" href="Checker.Checker.html#StageResult"><span class="id" title="inductive">StageResult</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#validate_inferences"><span class="id" title="definition">validate_inferences</span></a> <a class="idref" href="Checker.Checker.html#doms:85"><span class="id" title="variable">doms</span></a> <a class="idref" href="Checker.Checker.html#stage:86"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#hs_inferences"><span class="id" title="projection">hs_inferences</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Checker.html#valid_single_stage"><span class="id" title="constructor">valid_single_stage</span></a> =&gt; <a class="idref" href="Checker.Checker.html#validate_nogood"><span class="id" title="definition">validate_nogood</span></a> <a class="idref" href="Checker.Checker.html#stage:86"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#hs_conclusion_index"><span class="id" title="projection">hs_conclusion_index</span></a>) <a class="idref" href="Checker.Checker.html#stage:86"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#hs_conclusion"><span class="id" title="projection">hs_conclusion</span></a>) <a class="idref" href="Checker.Checker.html#stage:86"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#hs_chain"><span class="id" title="projection">hs_chain</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Checker.html#invalid_single_stage"><span class="id" title="constructor">invalid_single_stage</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="Checker.Checker.html#invalid_single_stage"><span class="id" title="constructor">invalid_single_stage</span></a> <span class="id" title="var">e</span> <br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="used_constraints" class="idref" href="#used_constraints"><span class="id" title="definition">used_constraints</span></a> (<a id="stage:87" class="idref" href="#stage:87"><span class="id" title="binder">stage</span></a> : <a class="idref" href="Checker.Checker.html#HydratedProofStage"><span class="id" title="record">HydratedProofStage</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="hints:88" class="idref" href="#hints:88"><span class="id" title="binder">hints</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#flat_map"><span class="id" title="definition">flat_map</span></a> <a class="idref" href="Checker.Checker.html#hinf_hint"><span class="id" title="projection">hinf_hint</span></a> <a class="idref" href="Checker.Checker.html#stage:87"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#hs_inferences"><span class="id" title="projection">hs_inferences</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="inferences:89" class="idref" href="#inferences:89"><span class="id" title="binder">inferences</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.fact_c"><span class="id" title="constructor">fact_c</span></a> <a class="idref" href="Checker.Checker.html#stage:87"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#hs_chain"><span class="id" title="projection">hs_chain</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#hints:88"><span class="id" title="variable">hints</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Checker.Checker.html#inferences:89"><span class="id" title="variable">inferences</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_proof_stage_implies_conclusion" class="idref" href="#valid_proof_stage_implies_conclusion"><span class="id" title="lemma">valid_proof_stage_implies_conclusion</span></a> : <span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;(<a id="doms:90" class="idref" href="#doms:90"><span class="id" title="binder">doms</span></a> : <a class="idref" href="Checker.Utility.html#Maps.smap.t"><span class="id" title="definition">smap.t</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.IntSet"><span class="id" title="inductive">IntSet</span></a>) (<a id="stage:91" class="idref" href="#stage:91"><span class="id" title="binder">stage</span></a> : <a class="idref" href="Checker.Checker.html#HydratedProofStage"><span class="id" title="record">HydratedProofStage</span></a>) (<a id="sol:92" class="idref" href="#sol:92"><span class="id" title="binder">sol</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#validate_proof_stage"><span class="id" title="definition">validate_proof_stage</span></a> <a class="idref" href="Checker.Checker.html#doms:90"><span class="id" title="variable">doms</span></a> <a class="idref" href="Checker.Checker.html#stage:91"><span class="id" title="variable">stage</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.Checker.html#valid_single_stage"><span class="id" title="constructor">valid_single_stage</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="c:93" class="idref" href="#c:93"><span class="id" title="binder">c</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Constraint"><span class="id" title="inductive">Constraint</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Checker.Checker.html#c:93"><span class="id" title="variable">c</span></a> (<a class="idref" href="Checker.Checker.html#used_constraints"><span class="id" title="definition">used_constraints</span></a> <a class="idref" href="Checker.Checker.html#stage:91"><span class="id" title="variable">stage</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.satisfies_constraint"><span class="id" title="definition">satisfies_constraint</span></a> <a class="idref" href="Checker.Checker.html#c:93"><span class="id" title="variable">c</span></a> <a class="idref" href="Checker.Checker.html#sol:92"><span class="id" title="variable">sol</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.satisfies_domains"><span class="id" title="definition">satisfies_domains</span></a> <a class="idref" href="Checker.Checker.html#doms:90"><span class="id" title="variable">doms</span></a> <a class="idref" href="Checker.Checker.html#sol:92"><span class="id" title="variable">sol</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#ProofFacts.fact_valid"><span class="id" title="definition">fact_valid</span></a> <a class="idref" href="Checker.Checker.html#sol:92"><span class="id" title="variable">sol</span></a> (<a class="idref" href="Checker.Checker.html#stage:91"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#hs_conclusion"><span class="id" title="projection">hs_conclusion</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">doms</span> <span class="id" title="var">stage</span> <span class="id" title="var">sol</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">Hcons_sat</span> <span class="id" title="var">Hdoms</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#validate_proof_stage"><span class="id" title="definition">validate_proof_stage</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Checker.html#validate_inferences"><span class="id" title="definition">validate_inferences</span></a> <span class="id" title="var">doms</span> (<a class="idref" href="Checker.Checker.html#hs_inferences"><span class="id" title="projection">hs_inferences</span></a> <span class="id" title="var">stage</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hinf_valid</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Checker.html#validate_nogood"><span class="id" title="definition">validate_nogood</span></a> (<a class="idref" href="Checker.Checker.html#hs_conclusion_index"><span class="id" title="projection">hs_conclusion_index</span></a> <span class="id" title="var">stage</span>) (<a class="idref" href="Checker.Checker.html#hs_conclusion"><span class="id" title="projection">hs_conclusion</span></a> <span class="id" title="var">stage</span>) (<a class="idref" href="Checker.Checker.html#hs_chain"><span class="id" title="projection">hs_chain</span></a> <span class="id" title="var">stage</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hnogood_valid</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#validate_nogood"><span class="id" title="definition">validate_nogood</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnogood_valid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">stage</span>.(<a class="idref" href="Checker.Checker.html#hs_conclusion"><span class="id" title="projection">hs_conclusion</span></a>).(<a class="idref" href="Checker.Spec.html#ProofFacts.i_consequent"><span class="id" title="projection">i_consequent</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Econs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnogood_valid</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hnogood_valid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">stage</span>.(<a class="idref" href="Checker.Checker.html#hs_conclusion"><span class="id" title="projection">hs_conclusion</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">conclusion_premises</span> <span class="id" title="var">conseq</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">conseq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Deduction.html#check_deduct_correct"><span class="id" title="lemma">check_deduct_correct</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">assignment</span> := <span class="id" title="var">sol</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">premises</span> := <span class="id" title="var">conclusion_premises</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">steps</span> := <span class="id" title="var">stage</span>.(<a class="idref" href="Checker.Checker.html#hs_chain"><span class="id" title="projection">hs_chain</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">inf</span> <span class="id" title="var">Hin_inf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcons_sat</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.fact_c"><span class="id" title="constructor">fact_c</span></a> <span class="id" title="var">inf</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcons_sat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcons_sat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#used_constraints"><span class="id" title="definition">used_constraints</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map"><span class="id" title="lemma">in_map</span></a>, <span class="id" title="var">Hin_inf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Deduction.html#check_deduct"><span class="id" title="definition">check_deduct</span></a> <span class="id" title="var">conclusion_premises</span> (<a class="idref" href="Checker.Checker.html#hs_chain"><span class="id" title="projection">hs_chain</span></a> <span class="id" title="var">stage</span>)) ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hnogood_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="hydrate_deduction_chain" class="idref" href="#hydrate_deduction_chain"><span class="id" title="definition">hydrate_deduction_chain</span></a> (<a id="csp:94" class="idref" href="#csp:94"><span class="id" title="binder">csp</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.ConstraintProblem"><span class="id" title="record">ConstraintProblem</span></a>) (<a id="infs:95" class="idref" href="#infs:95"><span class="id" title="binder">infs</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Checker.html#IndexedInference"><span class="id" title="record">IndexedInference</span></a>) (<a id="index_chain:96" class="idref" href="#index_chain:96"><span class="id" title="binder">index_chain</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#index_chain:96"><span class="id" title="variable">index_chain</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">index</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">tail</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="chain_tail:99" class="idref" href="#chain_tail:99"><span class="id" title="binder">chain_tail</span></a> := <a class="idref" href="Checker.Checker.html#hydrate_deduction_chain:97"><span class="id" title="definition">hydrate_deduction_chain</span></a> <a class="idref" href="Checker.Checker.html#csp:94"><span class="id" title="variable">csp</span></a> <a class="idref" href="Checker.Checker.html#infs:95"><span class="id" title="variable">infs</span></a> <span class="id" title="var">tail</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="chain_head:102" class="idref" href="#chain_head:102"><span class="id" title="binder">chain_head</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.ConstraintProblem.html#lookup"><span class="id" title="definition">ConstraintProblem.lookup</span></a> <a class="idref" href="Checker.Checker.html#csp:94"><span class="id" title="variable">csp</span></a> <span class="id" title="var">index</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.fact_c"><span class="id" title="constructor">fact_c</span></a> <span class="id" title="var">i</span>) =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="inf:101" class="idref" href="#inf:101"><span class="id" title="binder">inf</span></a> =&gt; <a class="idref" href="Checker.Checker.html#inf:101"><span class="id" title="variable">inf</span></a>.(<a class="idref" href="Checker.Checker.html#iinf_fact"><span class="id" title="projection">iinf_fact</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="inf:100" class="idref" href="#inf:100"><span class="id" title="binder">inf</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.NArith.BinNat.html#N.eqb"><span class="id" title="definition">N.eqb</span></a> (<a class="idref" href="Checker.Checker.html#inf:100"><span class="id" title="variable">inf</span></a>.(<a class="idref" href="Checker.Checker.html#iinf_index"><span class="id" title="projection">iinf_index</span></a>)) <span class="id" title="var">index</span>) <a class="idref" href="Checker.Checker.html#infs:95"><span class="id" title="variable">infs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Checker.Checker.html#chain_head:102"><span class="id" title="variable">chain_head</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Checker.Checker.html#chain_tail:99"><span class="id" title="variable">chain_tail</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="hydrated_chain_lookup" class="idref" href="#hydrated_chain_lookup"><span class="id" title="lemma">hydrated_chain_lookup</span></a> : <span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;(<a id="csp:103" class="idref" href="#csp:103"><span class="id" title="binder">csp</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.ConstraintProblem"><span class="id" title="record">ConstraintProblem</span></a>) (<a id="infs:104" class="idref" href="#infs:104"><span class="id" title="binder">infs</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Checker.html#IndexedInference"><span class="id" title="record">IndexedInference</span></a>) (<a id="index_chain:105" class="idref" href="#index_chain:105"><span class="id" title="binder">index_chain</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>)<br/>
&nbsp;&nbsp;(<a id="fact:106" class="idref" href="#fact:106"><span class="id" title="binder">fact</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Checker.Checker.html#fact:106"><span class="id" title="variable">fact</span></a> (<a class="idref" href="Checker.Checker.html#hydrate_deduction_chain"><span class="id" title="definition">hydrate_deduction_chain</span></a> <a class="idref" href="Checker.Checker.html#csp:103"><span class="id" title="variable">csp</span></a> <a class="idref" href="Checker.Checker.html#infs:104"><span class="id" title="variable">infs</span></a> <a class="idref" href="Checker.Checker.html#index_chain:105"><span class="id" title="variable">index_chain</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x:107" class="idref" href="#x:107"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Checker.ConstraintProblem.html#lookup"><span class="id" title="definition">ConstraintProblem.lookup</span></a> <a class="idref" href="Checker.Checker.html#csp:103"><span class="id" title="variable">csp</span></a> <a class="idref" href="Checker.Checker.html#x:107"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.fact_c"><span class="id" title="constructor">fact_c</span></a> <a class="idref" href="Checker.Checker.html#fact:106"><span class="id" title="variable">fact</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="inf:108" class="idref" href="#inf:108"><span class="id" title="binder">inf</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Checker.Checker.html#inf:108"><span class="id" title="variable">inf</span></a> <a class="idref" href="Checker.Checker.html#infs:104"><span class="id" title="variable">infs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Checker.Checker.html#inf:108"><span class="id" title="variable">inf</span></a>.(<a class="idref" href="Checker.Checker.html#iinf_fact"><span class="id" title="projection">iinf_fact</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.Checker.html#fact:106"><span class="id" title="variable">fact</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">fact</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">index_chain</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">index</span>] ; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">fact</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin_lookup</span> | <span class="id" title="var">Hin_rec</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.ConstraintProblem.html#lookup"><span class="id" title="definition">lookup</span></a> <span class="id" title="var">csp</span> <span class="id" title="var">index</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">c</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Elookup</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_lookup</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_lookup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inf</span> [<span class="id" title="var">Efact</span> <span class="id" title="var">Hin_fact</span>]] ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">inf</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_fact</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_fact</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin_fact</span> <span class="id" title="var">_</span>] ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Hin_fact</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">index</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin_lookup</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>, <span class="id" title="var">Elookup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHindex_chain</span>, <span class="id" title="var">Hin_rec</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="hydrate_inference" class="idref" href="#hydrate_inference"><span class="id" title="definition">hydrate_inference</span></a> (<a id="csp:109" class="idref" href="#csp:109"><span class="id" title="binder">csp</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.ConstraintProblem"><span class="id" title="record">ConstraintProblem</span></a>) (<a id="inf:110" class="idref" href="#inf:110"><span class="id" title="binder">inf</span></a> : <a class="idref" href="Checker.Checker.html#IndexedInference"><span class="id" title="record">IndexedInference</span></a>) : <a class="idref" href="Checker.Checker.html#HydratedInference"><span class="id" title="record">HydratedInference</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="hint:112" class="idref" href="#hint:112"><span class="id" title="binder">hint</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#flat_map"><span class="id" title="definition">flat_map</span></a> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="index:111" class="idref" href="#index:111"><span class="id" title="binder">index</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.ConstraintProblem.html#lookup"><span class="id" title="definition">ConstraintProblem.lookup</span></a> <a class="idref" href="Checker.Checker.html#csp:109"><span class="id" title="variable">csp</span></a> <a class="idref" href="Checker.Checker.html#index:111"><span class="id" title="variable">index</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">c</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;(<a class="idref" href="Checker.Checker.html#inf:110"><span class="id" title="variable">inf</span></a>.(<a class="idref" href="Checker.Checker.html#iinf_hint"><span class="id" title="projection">iinf_hint</span></a>))<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#hinf_index"><span class="id" title="projection">hinf_index</span></a> := <a class="idref" href="Checker.Checker.html#inf:110"><span class="id" title="variable">inf</span></a>.(<a class="idref" href="Checker.Checker.html#iinf_index"><span class="id" title="projection">iinf_index</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#hinf_fact"><span class="id" title="projection">hinf_fact</span></a> := <a class="idref" href="Checker.Checker.html#inf:110"><span class="id" title="variable">inf</span></a>.(<a class="idref" href="Checker.Checker.html#iinf_fact"><span class="id" title="projection">iinf_fact</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#hinf_hint"><span class="id" title="projection">hinf_hint</span></a> := <a class="idref" href="Checker.Checker.html#hint:112"><span class="id" title="variable">hint</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#hinf_rule"><span class="id" title="projection">hinf_rule</span></a> := <a class="idref" href="Checker.Checker.html#inf:110"><span class="id" title="variable">inf</span></a>.(<a class="idref" href="Checker.Checker.html#iinf_rule"><span class="id" title="projection">iinf_rule</span></a>)<br/>
&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="hydrate" class="idref" href="#hydrate"><span class="id" title="definition">hydrate</span></a> (<a id="csp:113" class="idref" href="#csp:113"><span class="id" title="binder">csp</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.ConstraintProblem"><span class="id" title="record">ConstraintProblem</span></a>) (<a id="stage:114" class="idref" href="#stage:114"><span class="id" title="binder">stage</span></a> : <a class="idref" href="Checker.Checker.html#ProofStage"><span class="id" title="record">ProofStage</span></a>) : <a class="idref" href="Checker.Checker.html#HydratedProofStage"><span class="id" title="record">HydratedProofStage</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="inferences:115" class="idref" href="#inferences:115"><span class="id" title="binder">inferences</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Checker.Checker.html#hydrate_inference"><span class="id" title="definition">hydrate_inference</span></a> <a class="idref" href="Checker.Checker.html#csp:113"><span class="id" title="variable">csp</span></a>) <a class="idref" href="Checker.Checker.html#stage:114"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#s_inferences"><span class="id" title="projection">s_inferences</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="chain:116" class="idref" href="#chain:116"><span class="id" title="binder">chain</span></a> := <a class="idref" href="Checker.Checker.html#hydrate_deduction_chain"><span class="id" title="definition">hydrate_deduction_chain</span></a> <a class="idref" href="Checker.Checker.html#csp:113"><span class="id" title="variable">csp</span></a> <a class="idref" href="Checker.Checker.html#stage:114"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#s_inferences"><span class="id" title="projection">s_inferences</span></a>) <a class="idref" href="Checker.Checker.html#stage:114"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#s_chain"><span class="id" title="projection">s_chain</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#hs_inferences"><span class="id" title="projection">hs_inferences</span></a> := <a class="idref" href="Checker.Checker.html#inferences:115"><span class="id" title="variable">inferences</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#hs_conclusion"><span class="id" title="projection">hs_conclusion</span></a> := <a class="idref" href="Checker.Checker.html#stage:114"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#s_conclusion"><span class="id" title="projection">s_conclusion</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#hs_chain"><span class="id" title="projection">hs_chain</span></a> := <a class="idref" href="Checker.Checker.html#chain:116"><span class="id" title="variable">chain</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#hs_conclusion_index"><span class="id" title="projection">hs_conclusion_index</span></a> := <a class="idref" href="Checker.Checker.html#stage:114"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#s_conclusion_index"><span class="id" title="projection">s_conclusion_index</span></a>) ;<br/>
&nbsp;&nbsp;|}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="CheckStagesResult" class="idref" href="#CheckStagesResult"><span class="id" title="definition, inductive"><span id="CheckStagesResult_rect" class="id"><span id="CheckStagesResult_ind" class="id"><span id="CheckStagesResult_rec" class="id"><span id="CheckStagesResult_sind" class="id">CheckStagesResult</span></span></span></span></span></a> :=<br/>
&nbsp;&nbsp;| <a id="valid_stage" class="idref" href="#valid_stage"><span class="id" title="constructor">valid_stage</span></a> (<a id="csp:119" class="idref" href="#csp:119"><span class="id" title="binder">csp</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.ConstraintProblem"><span class="id" title="record">ConstraintProblem</span></a>)<br/>
&nbsp;&nbsp;| <a id="invalid_stage" class="idref" href="#invalid_stage"><span class="id" title="constructor">invalid_stage</span></a> (<a id="error:120" class="idref" href="#error:120"><span class="id" title="binder">error</span></a> : <a class="idref" href="Checker.Checker.html#CheckerErrorType"><span class="id" title="inductive">CheckerErrorType</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="validate_stages" class="idref" href="#validate_stages"><span class="id" title="definition">validate_stages</span></a> (<a id="csp:121" class="idref" href="#csp:121"><span class="id" title="binder">csp</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.ConstraintProblem"><span class="id" title="record">ConstraintProblem</span></a>) (<a id="p:122" class="idref" href="#p:122"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Checker.html#ProofStage"><span class="id" title="record">ProofStage</span></a>) : <a class="idref" href="Checker.Checker.html#CheckStagesResult"><span class="id" title="inductive">CheckStagesResult</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#p:122"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="Checker.Checker.html#valid_stage"><span class="id" title="constructor">valid_stage</span></a> <a class="idref" href="Checker.Checker.html#csp:121"><span class="id" title="variable">csp</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">stage</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">p'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="csp':125" class="idref" href="#csp':125"><span class="id" title="binder">csp'</span></a> := <a class="idref" href="Checker.ConstraintProblem.html#add"><span class="id" title="definition">ConstraintProblem.add</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">stage</span>.(<a class="idref" href="Checker.Checker.html#s_conclusion_index"><span class="id" title="projection">s_conclusion_index</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">stage</span>.(<a class="idref" href="Checker.Checker.html#s_conclusion"><span class="id" title="projection">s_conclusion</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#csp:121"><span class="id" title="variable">csp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#validate_proof_stage"><span class="id" title="definition">validate_proof_stage</span></a> (<a class="idref" href="Checker.Checker.html#csp:121"><span class="id" title="variable">csp</span></a>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.domains"><span class="id" title="projection">domains</span></a>)) (<a class="idref" href="Checker.Checker.html#hydrate"><span class="id" title="definition">hydrate</span></a> <a class="idref" href="Checker.Checker.html#csp:121"><span class="id" title="variable">csp</span></a> <span class="id" title="var">stage</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Checker.Checker.html#valid_single_stage"><span class="id" title="constructor">valid_single_stage</span></a> =&gt; <a class="idref" href="Checker.Checker.html#validate_stages:123"><span class="id" title="definition">validate_stages</span></a> <a class="idref" href="Checker.Checker.html#csp':125"><span class="id" title="variable">csp'</span></a> <span class="id" title="var">p'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Checker.Checker.html#invalid_single_stage"><span class="id" title="constructor">invalid_single_stage</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="Checker.Checker.html#invalid_stage"><span class="id" title="constructor">invalid_stage</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="step_soundness" class="idref" href="#step_soundness"><span class="id" title="lemma">step_soundness</span></a> : <span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;(<a id="csp:126" class="idref" href="#csp:126"><span class="id" title="binder">csp</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.ConstraintProblem"><span class="id" title="record">ConstraintProblem</span></a>) (<a id="p:127" class="idref" href="#p:127"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Checker.html#ProofStage"><span class="id" title="record">ProofStage</span></a>) (<a id="stage:128" class="idref" href="#stage:128"><span class="id" title="binder">stage</span></a> : <a class="idref" href="Checker.Checker.html#ProofStage"><span class="id" title="record">ProofStage</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="csp':129" class="idref" href="#csp':129"><span class="id" title="binder">csp'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Checker.Checker.html#validate_stages"><span class="id" title="definition">validate_stages</span></a> <a class="idref" href="Checker.Checker.html#csp:126"><span class="id" title="variable">csp</span></a> (<a class="idref" href="Checker.Checker.html#stage:128"><span class="id" title="variable">stage</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Checker.Checker.html#p:127"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Checker.Checker.html#valid_stage"><span class="id" title="constructor">valid_stage</span></a> <a class="idref" href="Checker.Checker.html#csp':129"><span class="id" title="variable">csp'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Spec.html#Proofs.fact_holds"><span class="id" title="definition">fact_holds</span></a> <a class="idref" href="Checker.Checker.html#csp:126"><span class="id" title="variable">csp</span></a> (<a class="idref" href="Checker.Checker.html#stage:128"><span class="id" title="variable">stage</span></a>.(<a class="idref" href="Checker.Checker.html#s_conclusion"><span class="id" title="projection">s_conclusion</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">csp</span> <span class="id" title="var">p</span> <span class="id" title="var">stage</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">csp'</span> <span class="id" title="var">Hvalid</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Checker.Checker.html#hydrate"><span class="id" title="definition">hydrate</span></a> <span class="id" title="var">csp</span> <span class="id" title="var">stage</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h_stage</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Checker.html#validate_proof_stage"><span class="id" title="definition">validate_proof_stage</span></a> <span class="id" title="var">csp</span>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.domains"><span class="id" title="projection">domains</span></a>) <span class="id" title="var">h_stage</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Evalid</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">stage</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inferences</span> <span class="id" title="var">chain</span> <span class="id" title="var">conclusion</span> <span class="id" title="var">conclusion_index</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqh_stage</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Evalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#hydrate"><span class="id" title="definition">hydrate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Evalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Evalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#Proofs.fact_holds"><span class="id" title="definition">fact_holds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sol</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrewrite</span>: <span class="id" title="var">conclusion</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.Checker.html#hs_conclusion"><span class="id" title="projection">hs_conclusion</span></a> <span class="id" title="var">h_stage</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqh_stage</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrewrite</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hrewrite</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Checker.html#valid_proof_stage_implies_conclusion"><span class="id" title="lemma">valid_proof_stage_implies_conclusion</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">doms</span> := <span class="id" title="var">csp</span>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.domains"><span class="id" title="projection">domains</span></a>)).<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#hydrate"><span class="id" title="definition">hydrate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqh_stage</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqh_stage</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqh_stage</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Evalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Evalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">Hin_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#used_constraints"><span class="id" title="definition">used_constraints</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_cons</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin_hint</span> | <span class="id" title="var">Hin_chain</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_flat_map"><span class="id" title="lemma">in_flat_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_hint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_hint</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">h_inf</span> [<span class="id" title="var">Hin_inf</span> <span class="id" title="var">Hin_hint</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqh_stage</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_inf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_inf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_inf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_inf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i_inf</span> [<span class="id" title="var">Eh_inf</span> <span class="id" title="var">Hin_inf</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Eh_inf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_hint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_hint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_flat_map"><span class="id" title="lemma">in_flat_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_hint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_hint</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">index</span> [<span class="id" title="var">Hin_hint</span> <span class="id" title="var">Hin_c</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.ConstraintProblem.html#lookup"><span class="id" title="definition">lookup</span></a> <span class="id" title="var">csp</span> <span class="id" title="var">index</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Elookup</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin_c</span> | <span class="id" title="var">F</span>] ; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hin_c</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Elookup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.ConstraintProblem.html#sat_csp_implies_sat_lookup"><span class="id" title="lemma">sat_csp_implies_sat_lookup</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">csp</span> := <span class="id" title="var">csp</span>) (<span class="id" title="var">index</span> := <span class="id" title="var">index</span>) ; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_chain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_chain</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">fact</span> [<span class="id" title="var">Efact_c</span> <span class="id" title="var">Hin_chain</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqh_stage</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_chain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_chain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Checker.html#hydrated_chain_lookup"><span class="id" title="lemma">hydrated_chain_lookup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_chain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_chain</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlookup</span>|<span class="id" title="var">Hin_inferences</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlookup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">index</span> <span class="id" title="var">Elookup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Efact_c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.ConstraintProblem.html#sat_csp_implies_sat_lookup"><span class="id" title="lemma">sat_csp_implies_sat_lookup</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">csp</span> := <span class="id" title="var">csp</span>) (<span class="id" title="var">index</span> := <span class="id" title="var">index</span>) ; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_inferences</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inf</span> [<span class="id" title="var">Hin_inf</span> <span class="id" title="var">Einf_fact</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#validate_proof_stage"><span class="id" title="definition">validate_proof_stage</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Evalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Evalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Checker.html#validate_inferences"><span class="id" title="definition">validate_inferences</span></a> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.domains"><span class="id" title="projection">domains</span></a> <span class="id" title="var">csp</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Checker.Checker.html#hydrate_inference"><span class="id" title="definition">hydrate_inference</span></a> <span class="id" title="var">csp</span>) <span class="id" title="var">inferences</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hvalid_inferences</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Evalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Checker.html#validate_inferences_forall"><span class="id" title="lemma">validate_inferences_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid_inferences</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#validate_inference_within_stage"><span class="id" title="definition">validate_inference_within_stage</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid_inferences</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Efact_c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Checker.Checker.html#hydrate_inference"><span class="id" title="definition">hydrate_inference</span></a> <span class="id" title="var">csp</span> <span class="id" title="var">inf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">hinf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Checker.html#validate_inference_soundness"><span class="id" title="lemma">validate_inference_soundness</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hint</span> := (<a class="idref" href="Checker.Checker.html#hinf_hint"><span class="id" title="projection">hinf_hint</span></a> <span class="id" title="var">hinf</span>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">rule</span> := (<a class="idref" href="Checker.Checker.html#hinf_rule"><span class="id" title="projection">hinf_rule</span></a> <span class="id" title="var">hinf</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">doms</span> := <span class="id" title="var">csp</span>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.domains"><span class="id" title="projection">domains</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c'</span> <span class="id" title="var">Hin_hint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqhinf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_hint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_hint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_flat_map"><span class="id" title="lemma">in_flat_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_hint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_hint</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">index'</span> [<span class="id" title="var">Hin_inf'</span> <span class="id" title="var">Hin_c'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.ConstraintProblem.html#lookup"><span class="id" title="definition">lookup</span></a> <span class="id" title="var">csp</span> <span class="id" title="var">index'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Elookup'</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_c'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_c'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin_c'</span> | <span class="id" title="var">F</span>] ; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hin_c'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Elookup'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.ConstraintProblem.html#sat_csp_implies_sat_lookup"><span class="id" title="lemma">sat_csp_implies_sat_lookup</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">csp</span> := <span class="id" title="var">csp</span>) (<span class="id" title="var">index</span> := <span class="id" title="var">index'</span>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.satisfies_problem"><span class="id" title="definition">satisfies_problem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsat</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hdoms</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrewrite</span>: <span class="id" title="var">fact</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Checker.Checker.html#hinf_fact"><span class="id" title="projection">hinf_fact</span></a> <span class="id" title="var">hinf</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqhinf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Einf_fact</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hrewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid_inferences</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hvalid_inferences</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">hinf</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">inf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.satisfies_problem"><span class="id" title="definition">satisfies_problem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsat</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hdoms</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="compare_with_fact" class="idref" href="#compare_with_fact"><span class="id" title="definition">compare_with_fact</span></a> (<a id="rhs:130" class="idref" href="#rhs:130"><span class="id" title="binder">rhs</span></a> : <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a>) (<a id="lhs:131" class="idref" href="#lhs:131"><span class="id" title="binder">lhs</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.Constraint"><span class="id" title="inductive">Constraint</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#lhs:131"><span class="id" title="variable">lhs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.fact_c"><span class="id" title="constructor">fact_c</span></a> <span class="id" title="var">lhs</span> =&gt; <a class="idref" href="Checker.Deduction.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="Checker.Checker.html#lhs:131"><span class="id" title="variable">lhs</span></a> <a class="idref" href="Checker.Checker.html#rhs:130"><span class="id" title="variable">rhs</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="validate" class="idref" href="#validate"><span class="id" title="definition">validate</span></a> (<a id="csp:133" class="idref" href="#csp:133"><span class="id" title="binder">csp</span></a> : <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.ConstraintProblem"><span class="id" title="record">ConstraintProblem</span></a>) (<a id="conclusion:134" class="idref" href="#conclusion:134"><span class="id" title="binder">conclusion</span></a>: <a class="idref" href="Checker.Spec.html#ProofFacts.ProofFact"><span class="id" title="record">ProofFact</span></a>) (<a id="proof_stages:135" class="idref" href="#proof_stages:135"><span class="id" title="binder">proof_stages</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Checker.html#ProofStage"><span class="id" title="record">ProofStage</span></a>) : <a class="idref" href="Checker.Checker.html#CheckerError"><span class="id" title="definition">CheckerError</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Checker.Checker.html#validate_stages"><span class="id" title="definition">validate_stages</span></a> <a class="idref" href="Checker.Checker.html#csp:133"><span class="id" title="variable">csp</span></a> <a class="idref" href="Checker.Checker.html#proof_stages:135"><span class="id" title="variable">proof_stages</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Checker.html#valid_stage"><span class="id" title="constructor">valid_stage</span></a> <span class="id" title="var">csp'</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Checker.Utility.html#Maps.nmap.exists_"><span class="id" title="definition">nmap.exists_</span></a> (<span class="id" title="keyword">fun</span> <a id="k:136" class="idref" href="#k:136"><span class="id" title="binder">k</span></a> =&gt; <a class="idref" href="Checker.Checker.html#compare_with_fact"><span class="id" title="definition">compare_with_fact</span></a> <a class="idref" href="Checker.Checker.html#conclusion:134"><span class="id" title="variable">conclusion</span></a>) <span class="id" title="var">csp'</span>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.constraints"><span class="id" title="projection">constraints</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="Checker.Spec.html#Proofs.valid"><span class="id" title="constructor">valid</span></a> <a class="idref" href="Checker.Checker.html#CheckerErrorType"><span class="id" title="inductive">CheckerErrorType</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Checker.Spec.html#Proofs.invalid"><span class="id" title="constructor">invalid</span></a> <a class="idref" href="Checker.Checker.html#CheckerErrorType"><span class="id" title="inductive">CheckerErrorType</span></a> <a class="idref" href="Checker.Checker.html#invalid_conclusion"><span class="id" title="constructor">invalid_conclusion</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Checker.Checker.html#invalid_stage"><span class="id" title="constructor">invalid_stage</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="Checker.Spec.html#Proofs.invalid"><span class="id" title="constructor">invalid</span></a> <a class="idref" href="Checker.Checker.html#CheckerErrorType"><span class="id" title="inductive">CheckerErrorType</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="soundness" class="idref" href="#soundness"><span class="id" title="lemma">soundness</span></a> : <a class="idref" href="Checker.Spec.html#Proofs.checker_sound"><span class="id" title="definition">checker_sound</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Checker.Checker.html#ProofStage"><span class="id" title="record">ProofStage</span></a>) <a class="idref" href="Checker.Checker.html#CheckerErrorType"><span class="id" title="inductive">CheckerErrorType</span></a> <a class="idref" href="Checker.Checker.html#validate"><span class="id" title="definition">validate</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#Proofs.checker_sound"><span class="id" title="definition">checker_sound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">csp</span> <span class="id" title="var">stages</span> <span class="id" title="var">conclusion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">csp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">stages</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">stage</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#validate"><span class="id" title="definition">validate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">csp</span> <span class="id" title="var">Hexists'</span> <span class="id" title="var">sol</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Utility.html#Maps.nmap.exists_"><span class="id" title="definition">nmap.exists_</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hexists</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hexists'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Utility.html#Maps.nmap_prps.exists_iff"><span class="id" title="lemma">nmap_prps.exists_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hexists</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">index</span> [<span class="id" title="var">fact_cons</span> [<span class="id" title="var">Hmaps</span> <span class="id" title="var">Hequiv</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#compare_with_fact"><span class="id" title="definition">compare_with_fact</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hequiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">fact_cons</span> ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hequiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Deduction.html#equiv_implies_equisat"><span class="id" title="lemma">equiv_implies_equisat</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">sol</span> := <span class="id" title="var">sol</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hequiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hequiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#ConstraintDefinitions.satisfies_problem"><span class="id" title="definition">satisfies_problem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsat</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsat_constr</span> <span class="id" title="var">Hsat_doms</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsat_constr</span> <span class="id" title="var">index</span> (<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.fact_c"><span class="id" title="constructor">fact_c</span></a> <span class="id" title="var">constraint</span>) <span class="id" title="var">Hmaps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Morphisms.Proper</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Classes.Morphisms.html#respectful"><span class="id" title="definition">Morphisms.respectful</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ix</span> <span class="id" title="var">iy</span> <span class="id" title="var">Ei</span> <span class="id" title="var">cx</span> <span class="id" title="var">cy</span> <span class="id" title="var">Ec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">csp</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hholds</span>: <a class="idref" href="Checker.Spec.html#Proofs.fact_holds"><span class="id" title="definition">fact_holds</span></a> <span class="id" title="var">csp</span> (<span class="id" title="var">stage</span>.(<a class="idref" href="Checker.Checker.html#s_conclusion"><span class="id" title="projection">s_conclusion</span></a>))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.Checker.html#step_soundness"><span class="id" title="lemma">step_soundness</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span> := <span class="id" title="var">stages</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#validate"><span class="id" title="definition">validate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="Checker.Checker.html#validate_stages"><span class="id" title="definition">validate_stages</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Transparent</span> <a class="idref" href="Checker.Checker.html#validate_stages"><span class="id" title="definition">validate_stages</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Checker.Checker.html#validate_stages"><span class="id" title="definition">validate_stages</span></a> <span class="id" title="var">csp</span> (<span class="id" title="var">stage</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">stages</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="keyword">as</span> [<span class="id" title="var">csp'</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Evalid</span> ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">csp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Spec.html#Proofs.fact_holds"><span class="id" title="definition">fact_holds</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Checker.ConstraintProblem.html#entailed_addition"><span class="id" title="lemma">entailed_addition</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fact</span> := <span class="id" title="var">stage</span>.(<a class="idref" href="Checker.Checker.html#s_conclusion"><span class="id" title="projection">s_conclusion</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">index</span> := <span class="id" title="var">stage</span>.(<a class="idref" href="Checker.Checker.html#s_conclusion_index"><span class="id" title="projection">s_conclusion_index</span></a>)) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">Hholds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Checker.ConstraintProblem.html#add"><span class="id" title="definition">add</span></a> (<span class="id" title="var">stage</span>.(<a class="idref" href="Checker.Checker.html#s_conclusion_index"><span class="id" title="projection">s_conclusion_index</span></a>)) (<span class="id" title="var">stage</span>.(<a class="idref" href="Checker.Checker.html#s_conclusion"><span class="id" title="projection">s_conclusion</span></a>)) <span class="id" title="var">csp</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">csp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHstages</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">csp</span> := <span class="id" title="var">csp'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#validate"><span class="id" title="definition">validate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Checker.Checker.html#validate"><span class="id" title="definition">validate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Checker.html#validate_proof_stage"><span class="id" title="definition">validate_proof_stage</span></a> <span class="id" title="var">csp</span>.(<a class="idref" href="Checker.Spec.html#ConstraintDefinitions.domains"><span class="id" title="projection">domains</span></a>) (<a class="idref" href="Checker.Checker.html#hydrate"><span class="id" title="definition">hydrate</span></a> <span class="id" title="var">csp</span> <span class="id" title="var">stage</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Estage</span> ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqcsp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Checker.Checker.html#validate_stages"><span class="id" title="definition">validate_stages</span></a> <span class="id" title="var">csp'</span> <span class="id" title="var">stages</span>) ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Checker.Utility.html#Maps.nmap.exists_"><span class="id" title="definition">nmap.exists_</span></a> ; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
